"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[6554],{3435:(E,v,a)=>{a.d(v,{b:()=>m});var t=a(7969),f=a(2340),r=a(9724),i=a(727),n=a(3987),s=a(7977),c=a(2607);let m=(()=>{class u{constructor(e,o,p,_,g,S){this.el=e,this.renderer=o,this.tokenHelper=p,this.publicHelper=_,this.coreGuideService=g,this.cmsToastrService=S,this.offset=10,this.lang="",this.statusIsRun=!1,this.tokenHelper.getCurrentToken().then(h=>{this.lang=h.language})}onMouseEnter(){this.tooltip||(this.tokenHelper.getCurrentToken().then(e=>{this.lang=e.language}),this.show())}onMouseLeave(){this.statusIsRun=!1,this.tooltip&&this.hide()}show(){this.Identity&&this.Identity>0?(this.statusIsRun=!0,this.coreGuideService.ServiceGetOneById(this.Identity).pipe((0,t.U)(e=>{if(0!=this.statusIsRun)if(e.isSuccess){switch(this.lang){case"fa":default:this.create(e.item.descriptionFa);break;case"en":this.create(e.item.descriptionEn);break;case"ar":this.create(e.item.descriptionAr);break;case"de":this.create(e.item.descriptionDe)}this.setPosition(),this.renderer.addClass(this.tooltip,"ng-tooltip-show")}else f.N.production||this.cmsToastrService.typeErrorMessage(e.errorMessage),this.create("Identity :"+this.Identity),this.setPosition(),this.renderer.addClass(this.tooltip,"ng-tooltip-show");else this.tooltip&&this.hide()},e=>{f.N.production||this.cmsToastrService.typeError(e)})).toPromise()):this.tooltipGuide&&this.tooltipGuide.length>0&&(this.statusIsRun=!0,this.coreGuideService.ServiceGetOneByKey(this.tooltipGuide).pipe((0,t.U)(e=>{if(0!=this.statusIsRun)if(e.isSuccess){switch(this.lang){case"fa":default:this.create(e.item.descriptionFa);break;case"en":this.create(e.item.descriptionEn);break;case"ar":this.create(e.item.descriptionAr);break;case"de":this.create(e.item.descriptionDe)}this.setPosition(),this.renderer.addClass(this.tooltip,"ng-tooltip-show")}else f.N.production||this.cmsToastrService.typeErrorMessage(e.errorMessage),this.create("Key :"+this.tooltipGuide),this.setPosition(),this.renderer.addClass(this.tooltip,"ng-tooltip-show");else this.tooltip&&this.hide()},e=>{f.N.production||this.cmsToastrService.typeError(e)})).toPromise())}hide(){this.renderer.removeClass(this.tooltip,"ng-tooltip-show"),window.setTimeout(()=>{this.renderer.removeChild(document.body,this.tooltip),this.tooltip=null},this.delay)}create(e){this.tooltip=this.renderer.createElement("span"),(e+="").indexOf("</")>0||e.indexOf("/>")>0||this.publicHelper.checkIsHTML(e)?this.tooltip.insertAdjacentHTML("beforeend",e):this.renderer.appendChild(this.tooltip,this.renderer.createText(e)),this.renderer.appendChild(document.body,this.tooltip),this.renderer.addClass(this.tooltip,"ng-tooltip"),this.renderer.addClass(this.tooltip,`ng-tooltip-${this.placement}`),this.renderer.setStyle(this.tooltip,"-webkit-transition",`opacity ${this.delay}ms`),this.renderer.setStyle(this.tooltip,"-moz-transition",`opacity ${this.delay}ms`),this.renderer.setStyle(this.tooltip,"-o-transition",`opacity ${this.delay}ms`),this.renderer.setStyle(this.tooltip,"transition",`opacity ${this.delay}ms`)}setPosition(){const e=this.el.nativeElement.getBoundingClientRect(),o=this.tooltip.getBoundingClientRect(),p=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;let _=0,g=0;"top"===this.placement&&(_=e.top-o.height-this.offset,g=e.left+(e.width-o.width)/2),"bottom"===this.placement&&(_=e.bottom+this.offset,g=e.left+(e.width-o.width)/2),"left"===this.placement&&(_=e.top+(e.height-o.height)/2,g=e.left-o.width-this.offset),"right"===this.placement&&(_=e.top+(e.height-o.height)/2,g=e.right+this.offset),this.renderer.setStyle(this.tooltip,"top",`${_+p}px`),this.renderer.setStyle(this.tooltip,"left",`${g}px`)}}return u.\u0275fac=function(e){return new(e||u)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(i.v),r.Y36(n.i),r.Y36(s.LOT),r.Y36(c.e))},u.\u0275dir=r.lG2({type:u,selectors:[["","tooltipGuide",""]],hostBindings:function(e,o){1&e&&r.NdJ("mouseenter",function(){return o.onMouseEnter()})("mouseleave",function(){return o.onMouseLeave()})},inputs:{tooltipGuide:"tooltipGuide",Identity:"Identity",placement:"placement",delay:"delay"}}),u})()},656:(E,v,a)=>{a.d(v,{O:()=>r});var t=a(2340);class f{constructor(){this.inRun=!1,this.title=""}}class r{constructor(){this.message="\u062f\u0631 \u062d\u0627\u0644 \u062f\u0631\u06cc\u0627\u0641\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a",this.diameter=20,this.strokeWidth=50,this.backdropEnabled=!0,this.Globally=!0,this.positionGloballyCenter=!0,this.display=!1,this.consoleLog=!0,this.guid="",this.processInfo=new Map,this.guid=`${this.S4()}${this.S4()}-${this.S4()}-${this.S4()}-${this.S4()}-${this.S4()}${this.S4()}${this.S4()}`,this.consoleLog=t.N.ProgressConsoleLog,this.mode="indeterminate"}S4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}displayItem(n){if(!this.processInfo)return!1;for(const[s,c]of this.processInfo)if(s===n)return c.inRun;return!1}Start(n,s="----"){let c=new f;c.inRun=!0,c.title=s,this.processInfo.set(n,c);const m=[];for(const[u,l]of this.processInfo)l&&!0===l.inRun&&m.push(u);this.processRunList=m,m&&m.length>0?this.display=!0:(this.processInfo=new Map,this.display=!1),this.consoleLog&&console.log(this.guid,"Start:",name,"Globally:",this.Globally,"Display:",this.display,"key:",n,"title:",c.title,"processRunList:",this.processRunList),this.cdr&&!this.display&&this.cdr.detectChanges()}Stop(n){let s=this.processInfo.get(n);s||(s=new f),s.inRun=!1,this.processInfo.set(n,s);const c=[];for(const[m,u]of this.processInfo)u&&!0===u.inRun&&c.push(m);this.processRunList=c,c&&c.length>0?this.display=!0:(this.processInfo=new Map,this.display=!1),this.consoleLog&&console.log(this.guid,"Stop:",name,"Globally:",this.Globally,"Display:","Display:",this.display,"key:",n,"title:",s.title,"processRunList:",this.processRunList),this.cdr&&!this.display&&this.cdr.detectChanges()}}},6318:(E,v,a)=>{a.d(v,{S:()=>_});var t=a(7076),f=a(7977),r=a(4970),i=a(9724),n=a(1436),s=a(2607),c=a(727),m=a(4817),u=a(1048),l=a(6611),e=a(3435);const o=function(g){return{active:g}};function p(g,S){if(1&g){const h=i.EpF();i.TgZ(0,"li",7)(1,"a",8),i.NdJ("click",function(){const C=i.CHM(h).$implicit,y=i.oxw();return i.KtG(y.setLanguageWithRefresh(C.lang))}),i.TgZ(2,"span",9),i._UZ(3,"img",10),i.qZA(),i.TgZ(4,"span",11),i._uU(5),i.qZA()()()}if(2&g){const h=S.$implicit;i.Q6J("ngClass",i.VKq(4,o,h.active)),i.xp6(1),i.Q6J("ngClass",i.VKq(6,o,h.active)),i.xp6(2),i.s9C("src",h.flag,i.LSH),i.xp6(2),i.Oqu(h.name)}}let _=(()=>{class g{constructor(h,d,D,C,y,O,M){this.translationService=h,this.coreAuthService=d,this.cmsToastrService=D,this.tokenHelper=C,this.router=y,this.cdr=O,this.translate=M,this.id=++g.nextId,this.languages=[{lang:"fa",name:"\u0641\u0627\u0631\u0633\u06cc",flag:"./assets/media/svg/flags/136-iran.svg"},{lang:"ar",name:"\u0639\u0631\u0628\u06cc",flag:"./assets/media/svg/flags/008-saudi-arabia.svg"},{lang:"en",name:"English",flag:"./assets/media/svg/flags/226-united-states.svg"},{lang:"tr",name:"Turkish",flag:"./assets/media/svg/flags/006-turkey.svg"},{lang:"zh",name:"China",flag:"./assets/media/svg/flags/015-china.svg"},{lang:"es",name:"Spanish",flag:"./assets/media/svg/flags/128-spain.svg"},{lang:"ja",name:"Japanese",flag:"./assets/media/svg/flags/063-japan.svg"},{lang:"de",name:"German",flag:"./assets/media/svg/flags/162-germany.svg"},{lang:"fr",name:"French",flag:"./assets/media/svg/flags/195-france.svg"}],this.tokenInfo=new f.OdC,this.tokenHelper.getCurrentToken().then(T=>{this.tokenInfo=T}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(T=>{this.tokenInfo=T,this.setLanguage(T.language)})}ngOnInit(){this.setSelectedLanguage(),this.router.events.pipe((0,r.h)(h=>h instanceof t.OD)).subscribe(h=>{this.setSelectedLanguage()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}setLanguageWithRefresh(h){if(this.setLanguage(h),this.tokenInfo&&this.tokenInfo.userId>0){const d=new f.nVm;d.userAccessAdminAllowToProfessionalData=this.tokenInfo.userAccessAdminAllowToProfessionalData,d.userAccessAdminAllowToAllData=this.tokenInfo.userAccessAdminAllowToAllData,d.userId=this.tokenInfo.userId,d.siteId=this.tokenInfo.siteId,d.lang=h;const D=this.translate.instant("TITLE.Information"),C=this.translate.instant("MESSAGE.Request_to_change_language_was_sent_to_the_server");this.cmsToastrService.toastr.info(C,D),this.coreAuthService.ServiceRenewToken(d).subscribe({next:y=>{y.isSuccess?(this.cdr.detectChanges(),y.item.language===h?this.cmsToastrService.toastr.success(this.translate.instant("MESSAGE.New_language_acess_confirmed"),D):this.cmsToastrService.toastr.warning(this.translate.instant("ERRORMESSAGE.MESSAGE.New_language_acess_denied"),D)):this.cmsToastrService.typeErrorAccessChange(y.errorMessage)},error:y=>{this.cmsToastrService.typeErrorAccessChange(y)}})}}setLanguage(h){this.languages.forEach(d=>{d.lang===h?(d.active=!0,this.language=d):d.active=!1}),this.translationService.setLanguage(h)}setSelectedLanguage(){this.setLanguage(this.translationService.getSelectedLanguage())}}return g.nextId=0,g.\u0275fac=function(h){return new(h||g)(i.Y36(n.D),i.Y36(f.Z8z),i.Y36(s.e),i.Y36(c.v),i.Y36(t.F0),i.Y36(i.sBO),i.Y36(m.sK))},g.\u0275cmp=i.Xpm({type:g,selectors:[["app-language-selector"]],decls:7,vars:4,consts:[["ngbDropdown","","placement","bottom-right",1,"dropdown",3,"autoClose"],["ngbDropdownToggle","","data-toggle","dropdown","data-offset","10px,0px",1,"topbar-item"],[1,"btn","btn-icon","btn-clean","btn-dropdown","btn-lg","mr-1"],["alt","language",1,"h-25px","w-25px","rounded",3,"tooltipGuide","src"],["ngbDropdownMenu","",1,"dropdown-menu","p-0","m-0","dropdown-menu-anim-up","dropdown-menu-sm","dropdown-menu-right"],[1,"navi","navi-hover","py-4"],["class","navi-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"navi-item",3,"ngClass"],["href","javascript:;",1,"navi-link",3,"ngClass","click"],[1,"symbol","symbol-20","mr-3"],[3,"src"],[1,"navi-text"]],template:function(h,d){1&h&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"img",3),i.qZA()(),i.TgZ(4,"div",4)(5,"ul",5),i.YNc(6,p,6,8,"li",6),i.qZA()()()),2&h&&(i.Q6J("autoClose",!0),i.xp6(3),i.s9C("src",null==d.language?null:d.language.flag,i.LSH),i.Q6J("tooltipGuide","main"),i.xp6(3),i.Q6J("ngForOf",d.languages))},dependencies:[u.mk,u.sg,l.jt,l.iD,l.Vi,e.b],encapsulation:2}),g})()},486:(E,v,a)=>{a.d(v,{Z:()=>f});var t=a(9724);let f=(()=>{class r{constructor(){this.id=++r.nextId,this.passwordStrength=new t.vpe,this.msg="",this.colors=["darkred","orangered","orange","yellowgreen"]}static checkStrength(n){let s=0;const o=[/[a-z]+/.test(n),/[A-Z]+/.test(n),/[0-9]+/.test(n),/[$-/:-?{-~!"^_@`\[\]]/g.test(n)];let p=0;for(const _ of o)p+=!0===_?1:0;return s+=2*n.length+(n.length>=10?1:0),s+=10*p,s=n.length<=6?Math.min(s,10):s,s=1===p?Math.min(s,10):s,s=2===p?Math.min(s,20):s,s=3===p?Math.min(s,30):s,s=4===p?Math.min(s,40):s,s}ngOnChanges(n){const s=n.passwordToCheck.currentValue;if(this.setBarColors(4,"#DDD"),s){const c=this.getColor(r.checkStrength(s));switch(this.setBarColors(c.idx,c.col),40===r.checkStrength(s)?this.passwordStrength.emit(!0):this.passwordStrength.emit(!1),c.idx){case 1:this.msg="Poor";break;case 2:this.msg="Not Good";break;case 3:this.msg="Average";break;case 4:this.msg="Good"}}else this.msg=""}getColor(n){let s=0;return s=n<=10?0:n<=20?1:n<=30?2:n<=40?3:4,{idx:s+1,col:this.colors[s]}}setBarColors(n,s){for(let c=0;c<n;c++)this["bar"+c]=s}}return r.nextId=0,r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-password-strength"]],inputs:{passwordToCheck:"passwordToCheck"},outputs:{passwordStrength:"passwordStrength"},features:[t.TTD],decls:9,vars:9,consts:[[1,"strength"],[1,"strengthBar"],[1,"point"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0)(1,"ul",1),t._UZ(2,"li",2)(3,"li",2)(4,"li",2)(5,"li",2),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"p"),t._uU(8),t.qZA()()),2&n&&(t.xp6(2),t.Udp("background-color",s.bar0),t.xp6(1),t.Udp("background-color",s.bar1),t.xp6(1),t.Udp("background-color",s.bar2),t.xp6(1),t.Udp("background-color",s.bar3),t.xp6(3),t.Oqu(s.msg))},styles:[".strengthBar[_ngcontent-%COMP%]{display:inline;list-style:none;margin:0;padding:0;vertical-align:2px}.point[_ngcontent-%COMP%]:last-of-type{margin:0!important}.point[_ngcontent-%COMP%]{background:#DDD;border-radius:2px;display:inline-block;height:5px;margin-right:1px;width:62px}"]}),r})()},5738:(E,v,a)=>{a.d(v,{O:()=>u});var t=a(9724),f=a(8832),r=a(1048),i=a(4039);const n=["progressSpinnerRef"];function s(l,e){if(1&l&&(t.TgZ(0,"ul",5)(1,"li")(2,"span",6),t._UZ(3,"i",7),t.qZA(),t._uU(4),t.qZA()()),2&l){const o=e.$implicit;t.xp6(3),t.Q6J("ngClass",o.value.inRun?"fas fa-spinner fa-pulse":"fas fa-check-square"),t.xp6(1),t.hij("",o.value.title," ")}}function c(l,e){if(1&l&&(t._UZ(0,"mat-progress-spinner",3)(1,"br"),t.TgZ(2,"div"),t._uU(3),t._UZ(4,"br"),t.YNc(5,s,5,2,"ul",4),t.ALo(6,"keyvalue"),t.qZA()),2&l){const o=t.oxw();t.Q6J("color",o.optionsData.color)("diameter",o.optionsData.diameter)("mode",o.optionsData.mode)("strokeWidth",o.optionsData.strokeWidth)("value",o.optionsData.value),t.xp6(3),t.hij("",o.optionsData.message," "),t.xp6(2),t.Q6J("ngForOf",t.lcZ(6,7,o.optionsData.processInfo))}}function m(l,e){if(1&l&&(t.TgZ(0,"div",8),t._UZ(1,"mat-progress-spinner",3)(2,"br"),t.TgZ(3,"div"),t._uU(4),t.qZA()()),2&l){const o=t.oxw();t.xp6(1),t.Q6J("color",o.optionsData.color)("diameter",o.optionsData.diameter)("mode",o.optionsData.mode)("strokeWidth",o.optionsData.strokeWidth)("value",o.optionsData.value),t.xp6(3),t.Oqu(o.optionsData.message)}}let u=(()=>{class l{constructor(o,p){this.vcRef=o,this.overlayService=p,this.id=++l.nextId}set options(o){this.optionsData=o}get options(){return this.optionsData}ngOnInit(){!this.optionsData||!this.optionsData.Globally||(this.progressSpinnerOverlayConfig={hasBackdrop:this.optionsData.backdropEnabled},this.optionsData.positionGloballyCenter&&(this.progressSpinnerOverlayConfig.positionStrategy=this.overlayService.positionGloballyCenter()),this.overlayRef=this.overlayService.createOverlay(this.progressSpinnerOverlayConfig))}ngDoCheck(){!this.optionsData||!this.optionsData.Globally||(this.optionsData.display&&!this.overlayRef.hasAttached()?(this.overlayService.attachTemplatePortal(this.overlayRef,this.progressSpinnerRef,this.vcRef),this.optionsData.cdr.detectChanges()):!this.optionsData.display&&this.overlayRef.hasAttached()&&this.overlayRef.detach())}}return l.nextId=0,l.\u0275fac=function(o){return new(o||l)(t.Y36(t.s_b),t.Y36(f.F))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-progress-spinner"]],viewQuery:function(o,p){if(1&o&&t.Gf(n,7),2&o){let _;t.iGM(_=t.CRH())&&(p.progressSpinnerRef=_.first)}},inputs:{options:"options"},decls:3,vars:1,consts:[["class","message"],["progressSpinnerRef",""],["class","message",4,"ngIf"],[3,"color","diameter","mode","strokeWidth","value"],["class","fa-ul",4,"ngFor","ngForOf"],[1,"fa-ul"],[1,"fa-li"],[3,"ngClass"],[1,"message"]],template:function(o,p){1&o&&(t.YNc(0,c,7,9,"ng-template",0,1,t.W1O),t.YNc(2,m,5,6,"div",2)),2&o&&(t.xp6(2),t.Q6J("ngIf",!p.optionsData.Globally&&p.optionsData.display))},dependencies:[r.mk,r.sg,r.O5,i.Ou,r.Nd],styles:[".message[_ngcontent-%COMP%]{position:absolute;text-align:center;top:49%;left:44%}"]}),l})()}}]);