"use strict";(self.webpackChunkntk_cms_web_angular_v2=self.webpackChunkntk_cms_web_angular_v2||[]).push([[6554],{63435:function(t,e,s){s.d(e,{b:function(){return a}});var i=s(88002),o=s(37716),n=s(2769),r=s(32607);let a=(()=>{class t{constructor(t,e,s,i){this.el=t,this.renderer=e,this.coreGuideService=s,this.cmsToastrService=i,this.viewError=!1,this.offset=10}onMouseEnter(){this.tooltip||this.show()}onMouseLeave(){this.tooltip&&this.hide()}show(){this.Identity&&this.Identity>0?this.coreGuideService.ServiceGetOneById(this.Identity).pipe((0,i.U)(t=>{t.IsSuccess?(this.create(t.Item.BodyFa),this.setPosition(),this.renderer.addClass(this.tooltip,"ng-tooltip-show")):(this.viewError&&this.cmsToastrService.typeErrorMessage(t.ErrorMessage),this.create("Identity :"+this.Identity),this.setPosition(),this.renderer.addClass(this.tooltip,"ng-tooltip-show"))},t=>{this.viewError&&this.cmsToastrService.typeError(t)})).toPromise():this.tooltipGuide&&this.tooltipGuide.length>0&&this.coreGuideService.ServiceGetOneByKey(this.tooltipGuide).pipe((0,i.U)(t=>{t.IsSuccess?(this.create(t.Item.BodyFa),this.setPosition(),this.renderer.addClass(this.tooltip,"ng-tooltip-show")):(this.viewError&&this.cmsToastrService.typeErrorMessage(t.ErrorMessage),this.create("Key :"+this.tooltipGuide),this.setPosition(),this.renderer.addClass(this.tooltip,"ng-tooltip-show"))},t=>{this.viewError&&this.cmsToastrService.typeError(t)})).toPromise()}hide(){this.renderer.removeClass(this.tooltip,"ng-tooltip-show"),window.setTimeout(()=>{this.renderer.removeChild(document.body,this.tooltip),this.tooltip=null},this.delay)}create(t){this.tooltip=this.renderer.createElement("span"),(t+="").indexOf("</")>0||t.indexOf("/>")>0?this.tooltip.insertAdjacentHTML("beforeend",t):this.renderer.appendChild(this.tooltip,this.renderer.createText(t)),this.renderer.appendChild(document.body,this.tooltip),this.renderer.addClass(this.tooltip,"ng-tooltip"),this.renderer.addClass(this.tooltip,`ng-tooltip-${this.placement}`),this.renderer.setStyle(this.tooltip,"-webkit-transition",`opacity ${this.delay}ms`),this.renderer.setStyle(this.tooltip,"-moz-transition",`opacity ${this.delay}ms`),this.renderer.setStyle(this.tooltip,"-o-transition",`opacity ${this.delay}ms`),this.renderer.setStyle(this.tooltip,"transition",`opacity ${this.delay}ms`)}setPosition(){const t=this.el.nativeElement.getBoundingClientRect(),e=this.tooltip.getBoundingClientRect(),s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;let i=0,o=0;"top"===this.placement&&(i=t.top-e.height-this.offset,o=t.left+(t.width-e.width)/2),"bottom"===this.placement&&(i=t.bottom+this.offset,o=t.left+(t.width-e.width)/2),"left"===this.placement&&(i=t.top+(t.height-e.height)/2,o=t.left-e.width-this.offset),"right"===this.placement&&(i=t.top+(t.height-e.height)/2,o=t.right+this.offset),this.renderer.setStyle(this.tooltip,"top",`${i+s}px`),this.renderer.setStyle(this.tooltip,"left",`${o}px`)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(n.LOT),o.Y36(r.e))},t.\u0275dir=o.lG2({type:t,selectors:[["","tooltipGuide",""]],hostBindings:function(t,e){1&t&&o.NdJ("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{tooltipGuide:"tooltipGuide",Identity:"Identity",placement:"placement",delay:"delay"}}),t})()},60656:function(t,e,s){s.d(e,{O:function(){return n}});var i=s(92340);class o{constructor(){this.inRun=!1,this.title=""}}class n{constructor(){this.message="\u062f\u0631 \u062d\u0627\u0644 \u062f\u0631\u06cc\u0627\u0641\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a",this.diameter=20,this.strokeWidth=50,this.backdropEnabled=!0,this.Globally=!0,this.positionGloballyCenter=!0,this.display=!1,this.consoleLog=!0,this.processInfo=new Map,this.guid="",this.guid=this.newGuid(),this.consoleLog=i.N.ProgressConsoleLog}S4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}newGuid(){return`${this.S4()}${this.S4()}-${this.S4()}-${this.S4()}-${this.S4()}-${this.S4()}${this.S4()}${this.S4()}`}displayItem(t){if(!this.processInfo)return!1;for(const[e,s]of this.processInfo)if(e===t)return s.inRun;return!1}Start(t,e="----"){let s=new o;s.inRun=!0,s.title=e,this.processInfo.set(t,s);const i=[];for(const[o,n]of this.processInfo)n&&!0===n.inRun&&i.push(o);this.processRunList=i,i&&i.length>0?this.display=!0:(this.processInfo=new Map,this.display=!1),this.consoleLog&&console.log(this.guid,"Start:",name,"Display:",this.display,"processRunList:",this.processRunList),this.cdr&&!this.display&&this.cdr.detectChanges()}Stop(t){let e=this.processInfo.get(t);e||(e=new o),e.inRun=!1,this.processInfo.set(t,e);const s=[];for(const[i,o]of this.processInfo)o&&!0===o.inRun&&s.push(i);this.processRunList=s,s&&s.length>0?this.display=!0:(this.processInfo=new Map,this.display=!1),this.consoleLog&&console.log(this.guid,"Stop:",name,"Display:",this.display,"processRunList:",this.processRunList),this.cdr&&!this.display&&this.cdr.detectChanges()}}},76318:function(t,e,s){s.d(e,{S:function(){return f}});var i=s(8307),o=s(2769),n=s(45435),r=s(37716),a=s(41436),l=s(32607),h=s(50727),c=s(16743),p=s(63435),g=s(38583);const d=function(t){return{active:t}};function u(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",7),r.TgZ(1,"a",8),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().setLanguageWithRefresh(e.lang)}),r.TgZ(2,"span",9),r._UZ(3,"img",10),r.qZA(),r.TgZ(4,"span",11),r._uU(5),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.Q6J("ngClass",r.VKq(4,d,t.active)),r.xp6(1),r.Q6J("ngClass",r.VKq(6,d,t.active)),r.xp6(2),r.s9C("src",t.flag,r.LSH),r.xp6(2),r.Oqu(t.name)}}let f=(()=>{class t{constructor(t,e,s,i,n){this.translationService=t,this.coreAuthService=e,this.cmsToastrService=s,this.tokenHelper=i,this.router=n,this.languages=[{lang:"fa",name:"\u0641\u0627\u0631\u0633\u06cc",flag:"./assets/media/svg/flags/136-iran.svg"},{lang:"ar",name:"\u0639\u0631\u0628\u06cc",flag:"./assets/media/svg/flags/008-saudi-arabia.svg"},{lang:"en",name:"English",flag:"./assets/media/svg/flags/226-united-states.svg"},{lang:"zd",name:"Mandarin",flag:"./assets/media/svg/flags/015-china.svg"},{lang:"es",name:"Spanish",flag:"./assets/media/svg/flags/128-spain.svg"},{lang:"ja",name:"Japanese",flag:"./assets/media/svg/flags/063-japan.svg"},{lang:"de",name:"German",flag:"./assets/media/svg/flags/162-germany.svg"},{lang:"fr",name:"French",flag:"./assets/media/svg/flags/195-france.svg"}],this.tokenInfo=new o.OdC,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.setLanguage(t.Language)})}ngOnInit(){this.setSelectedLanguage(),this.router.events.pipe((0,n.h)(t=>t instanceof i.OD)).subscribe(t=>{this.setSelectedLanguage()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}setLanguageWithRefresh(t){if(this.setLanguage(t),this.tokenInfo&&this.tokenInfo.UserId>0){const e=new o.nVm;e.UserAccessAdminAllowToProfessionalData=this.tokenInfo.UserAccessAdminAllowToProfessionalData,e.UserAccessAdminAllowToAllData=this.tokenInfo.UserAccessAdminAllowToAllData,e.UserId=this.tokenInfo.UserId,e.SiteId=this.tokenInfo.SiteId,e.Lang=t;const s="\u0627\u0637\u0644\u0627\u0639\u0627\u062a ";this.cmsToastrService.toastr.info("\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062a\u063a\u06cc\u06cc\u0631 \u0632\u0628\u0627\u0646 \u0628\u0647 \u0633\u0631\u0648\u0631 \u0627\u0631\u0633\u0627\u0644 \u0634\u062f",s),this.coreAuthService.ServiceRenewToken(e).subscribe(e=>{e.IsSuccess?e.Item.Language===t?this.cmsToastrService.toastr.success("\u062f\u0633\u062a\u0631\u0633\u06cc \u0628\u0647 \u0632\u0628\u0627\u0646 \u062c\u062f\u06cc\u062f \u062a\u0627\u06cc\u06cc\u062f \u0634\u062f",s):this.cmsToastrService.toastr.warning("\u062f\u0633\u062a\u0631\u0633\u06cc \u0628\u0647 \u0632\u0628\u0627\u0646 \u062c\u062f\u06cc\u062f \u062a\u0627\u06cc\u06cc\u062f \u0646\u0634\u062f",s):this.cmsToastrService.typeErrorAccessChange(e.ErrorMessage)},t=>{this.cmsToastrService.typeErrorAccessChange(t)})}}setLanguage(t){this.languages.forEach(e=>{e.lang===t?(e.active=!0,this.language=e):e.active=!1}),this.translationService.setLanguage(t)}setSelectedLanguage(){this.setLanguage(this.translationService.getSelectedLanguage())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.D),r.Y36(o.Z8z),r.Y36(l.e),r.Y36(h.v),r.Y36(i.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-language-selector"]],decls:7,vars:4,consts:[["ngbDropdown","","placement","bottom-right",1,"dropdown",3,"autoClose"],["ngbDropdownToggle","","data-toggle","dropdown","data-offset","10px,0px",1,"topbar-item"],[1,"btn","btn-icon","btn-clean","btn-dropdown","btn-lg","mr-1"],["alt","language",1,"h-25px","w-25px","rounded",3,"tooltipGuide","src"],["ngbDropdownMenu","",1,"dropdown-menu","p-0","m-0","dropdown-menu-anim-up","dropdown-menu-sm","dropdown-menu-right"],[1,"navi","navi-hover","py-4"],["class","navi-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"navi-item",3,"ngClass"],["href","javascript:;",1,"navi-link",3,"ngClass","click"],[1,"symbol","symbol-20","mr-3"],[3,"src"],[1,"navi-text"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._UZ(3,"img",3),r.qZA(),r.qZA(),r.TgZ(4,"div",4),r.TgZ(5,"ul",5),r.YNc(6,u,6,8,"li",6),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.Q6J("autoClose",!0),r.xp6(3),r.s9C("src",null==e.language?null:e.language.flag,r.LSH),r.Q6J("tooltipGuide","main"),r.xp6(3),r.Q6J("ngForOf",e.languages))},directives:[c.jt,c.iD,p.b,c.Vi,g.sg,g.mk],styles:[""]}),t})()},40486:function(t,e,s){s.d(e,{Z:function(){return o}});var i=s(37716);let o=(()=>{class t{constructor(){this.passwordStrength=new i.vpe,this.msg="",this.colors=["darkred","orangered","orange","yellowgreen"]}static checkStrength(t){let e=0;const s=[/[a-z]+/.test(t),/[A-Z]+/.test(t),/[0-9]+/.test(t),/[$-/:-?{-~!"^_@`\[\]]/g.test(t)];let i=0;for(const o of s)i+=!0===o?1:0;return e+=2*t.length+(t.length>=10?1:0),e+=10*i,e=t.length<=6?Math.min(e,10):e,e=1===i?Math.min(e,10):e,e=2===i?Math.min(e,20):e,e=3===i?Math.min(e,30):e,e=4===i?Math.min(e,40):e,e}ngOnChanges(e){const s=e.passwordToCheck.currentValue;if(this.setBarColors(4,"#DDD"),s){const e=this.getColor(t.checkStrength(s));switch(this.setBarColors(e.idx,e.col),40===t.checkStrength(s)?this.passwordStrength.emit(!0):this.passwordStrength.emit(!1),e.idx){case 1:this.msg="Poor";break;case 2:this.msg="Not Good";break;case 3:this.msg="Average";break;case 4:this.msg="Good"}}else this.msg=""}getColor(t){let e=0;return e=t<=10?0:t<=20?1:t<=30?2:t<=40?3:4,{idx:e+1,col:this.colors[e]}}setBarColors(t,e){for(let s=0;s<t;s++)this["bar"+s]=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-password-strength"]],inputs:{passwordToCheck:"passwordToCheck"},outputs:{passwordStrength:"passwordStrength"},features:[i.TTD],decls:9,vars:9,consts:[[1,"strength"],[1,"strengthBar"],[1,"point"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"ul",1),i._UZ(2,"li",2),i._UZ(3,"li",2),i._UZ(4,"li",2),i._UZ(5,"li",2),i.qZA(),i._UZ(6,"br"),i.TgZ(7,"p"),i._uU(8),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Udp("background-color",e.bar0),i.xp6(1),i.Udp("background-color",e.bar1),i.xp6(1),i.Udp("background-color",e.bar2),i.xp6(1),i.Udp("background-color",e.bar3),i.xp6(3),i.Oqu(e.msg))},styles:[".strengthBar[_ngcontent-%COMP%]{display:inline;list-style:none;margin:0;padding:0;vertical-align:2px}.point[_ngcontent-%COMP%]:last-of-type{margin:0!important}.point[_ngcontent-%COMP%]{background:#DDD;border-radius:2px;display:inline-block;height:5px;margin-right:1px;width:62px}"]}),t})()},75738:function(t,e,s){s.d(e,{O:function(){return p}});var i=s(37716),o=s(38832),n=s(38583),r=s(4885);const a=["progressSpinnerRef"];function l(t,e){if(1&t&&(i.TgZ(0,"ul",5),i.TgZ(1,"li"),i.TgZ(2,"span",6),i._UZ(3,"i",7),i.qZA(),i._uU(4),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.xp6(3),i.Q6J("ngClass",t.value.inRun?"fas fa-spinner fa-pulse":"fas fa-check-square"),i.xp6(1),i.hij("",t.value.title," ")}}function h(t,e){if(1&t&&(i._UZ(0,"mat-progress-spinner",3),i._UZ(1,"br"),i.TgZ(2,"div"),i._uU(3),i._UZ(4,"br"),i.YNc(5,l,5,2,"ul",4),i.ALo(6,"keyvalue"),i.qZA()),2&t){const t=i.oxw();i.Q6J("color",t.optionsData.color)("diameter",t.optionsData.diameter)("mode",t.optionsData.mode)("strokeWidth",t.optionsData.strokeWidth)("value",t.optionsData.value),i.xp6(3),i.hij("",t.optionsData.message," "),i.xp6(2),i.Q6J("ngForOf",i.lcZ(6,7,t.optionsData.processInfo))}}function c(t,e){if(1&t&&(i.TgZ(0,"div",8),i._UZ(1,"mat-progress-spinner",3),i._UZ(2,"br"),i.TgZ(3,"div"),i._uU(4),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("color",t.optionsData.color)("diameter",t.optionsData.diameter)("mode",t.optionsData.mode)("strokeWidth",t.optionsData.strokeWidth)("value",t.optionsData.value),i.xp6(3),i.Oqu(t.optionsData.message)}}let p=(()=>{class t{constructor(t,e){this.vcRef=t,this.overlayService=e}set options(t){this.optionsData=t}get options(){return this.optionsData}ngOnInit(){!this.optionsData||!this.optionsData.Globally||(this.progressSpinnerOverlayConfig={hasBackdrop:this.optionsData.backdropEnabled},this.optionsData.positionGloballyCenter&&(this.progressSpinnerOverlayConfig.positionStrategy=this.overlayService.positionGloballyCenter()),this.overlayRef=this.overlayService.createOverlay(this.progressSpinnerOverlayConfig))}ngDoCheck(){!this.optionsData||!this.optionsData.Globally||(this.optionsData.display&&!this.overlayRef.hasAttached()?this.overlayService.attachTemplatePortal(this.overlayRef,this.progressSpinnerRef,this.vcRef):!this.optionsData.display&&this.overlayRef.hasAttached()&&this.overlayRef.detach())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(o.F))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-progress-spinner"]],viewQuery:function(t,e){if(1&t&&i.Gf(a,7),2&t){let t;i.iGM(t=i.CRH())&&(e.progressSpinnerRef=t.first)}},inputs:{options:"options"},decls:3,vars:1,consts:[["class","message"],["progressSpinnerRef",""],["class","message",4,"ngIf"],[3,"color","diameter","mode","strokeWidth","value"],["class","fa-ul",4,"ngFor","ngForOf"],[1,"fa-ul"],[1,"fa-li"],[3,"ngClass"],[1,"message"]],template:function(t,e){1&t&&(i.YNc(0,h,7,9,"ng-template",0,1,i.W1O),i.YNc(2,c,5,6,"div",2)),2&t&&(i.xp6(2),i.Q6J("ngIf",!e.optionsData.Globally&&e.optionsData.display))},directives:[n.O5,r.Ou,n.sg,n.mk],pipes:[n.Nd],styles:[".message[_ngcontent-%COMP%]{position:absolute;text-align:center;top:49%;left:44%}"]}),t})()}}]);