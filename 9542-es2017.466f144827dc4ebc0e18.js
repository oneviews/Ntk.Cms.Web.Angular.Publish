"use strict";(self.webpackChunkntk_cms_web_angular_v2=self.webpackChunkntk_cms_web_angular_v2||[]).push([[9542],{99654:function(t,e,o){o.d(e,{B:function(){return l}});var i=o(37716);let l=(()=>{class t{transform(t,e){if(!e||0===e.length)return"";const o=e.find(e=>e.Key===t||e.Value===t);return o?o.Description:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Yjl({name:"enums",type:t,pure:!0}),t})()},11126:function(t,e,o){o.d(e,{g:function(){return b}});var i=o(8239),l=o(37716),n=o(2769),s=o(3679),a=o(39761),r=o(54395),c=o(87519),d=o(43190),p=o(88002),u=o(60656),h=o(98295),m=o(49983),f=o(21554),S=o(38583),y=o(72458),C=o(76627);function g(t,e){if(1&t&&(l.TgZ(0,"mat-option",6),l.TgZ(1,"span"),l._uU(2),l.qZA(),l.qZA()),2&t){const t=e.$implicit,o=l.oxw();l.Q6J("value",t)("disabled",o.optionDisabled),l.xp6(2),l.Oqu(o.displayOption(t))}}function I(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"mat-icon",7),l.NdJ("click",function(){return l.CHM(t),l.oxw().onActionSelectClear()}),l._uU(1,"close"),l.qZA()}}const A=["*"];let b=(()=>{class t{constructor(t,e,o){this.coreEnumService=t,this.cdr=e,this.categoryService=o,this.dataModelResult=new n.y$4,this.dataModelSelect=new n.six,this.loading=new u.O,this.formControl=new s.NI,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new l.vpe,this.optionReload=()=>this.onActionReload(),this.loading.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.filteredOptions=this.formControl.valueChanges.pipe((0,a.O)(""),(0,r.b)(1e3),(0,c.x)(),(0,d.w)(t=>this.DataGetAll("string"==typeof t||"number"==typeof t?t:"")))}displayFn(t){return t?t.Title+" # "+t.ClassName:void 0}displayOption(t){return t?t.Title+" # "+t.ClassName:void 0}DataGetAll(t){var e=this;return(0,i.Z)(function*(){const o=new n.Hay;if(o.RowPerPage=20,o.AccessLoad=!0,t&&t.length>0){let e=new n.AO3;e=new n.AO3,e.PropertyName="classname",e.Value=t,e.SearchType=n.b3P.Contains,e.ClauseType=n.KT6.Or,o.Filters.push(e),e=new n.AO3,e.PropertyName="name",e.Value=t,e.SearchType=n.b3P.Contains,e.ClauseType=n.KT6.Or,o.Filters.push(e),e=new n.AO3,e.PropertyName="email",e.Value=t,e.SearchType=n.b3P.Contains,e.ClauseType=n.KT6.Or,o.Filters.push(e),e=new n.AO3,e.PropertyName="lastname",e.Value=t,e.SearchType=n.b3P.Contains,e.ClauseType=n.KT6.Or,o.Filters.push(e),t&&"number"==typeof+t&&+t>0&&(e=new n.AO3,e.PropertyName="Id",e.Value=t,e.SearchType=n.b3P.Equal,e.ClauseType=n.KT6.Or,o.Filters.push(e))}const i=e.constructor.name+"main";return e.loading.Start(i),yield e.categoryService.ServiceGetAll(o).pipe((0,p.U)(t=>(e.dataModelResult=t,e.optionSelectFirstItem&&(!e.dataModelSelect||!e.dataModelSelect.Id||e.dataModelSelect.Id<=0)&&e.dataModelResult.ListItems.length>0&&(e.optionSelectFirstItem=!1,setTimeout(()=>{e.formControl.setValue(e.dataModelResult.ListItems[0])},1e3),e.onActionSelect(e.dataModelResult.ListItems[0])),e.loading.Stop(i),t.ListItems))).toPromise()})()}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.formControl.setValue(null),this.optionChange.emit(new n.six))}push(t){return this.filteredOptions.pipe((0,p.U)(e=>(e.find(e=>e.Id===t.Id)||e.push(t),e)))}onActionSelectForce(t){if("number"==typeof t&&t>0){if(this.dataModelSelect&&this.dataModelSelect.Id===t)return;if(this.dataModelResult&&this.dataModelResult.ListItems&&this.dataModelResult.ListItems.find(e=>e.Id===t)){const e=this.dataModelResult.ListItems.find(e=>e.Id===t);return this.dataModelSelect=e,void this.formControl.setValue(e)}this.categoryService.ServiceGetOneById(t).subscribe(t=>{t.IsSuccess&&(this.filteredOptions=this.push(t.Item),this.dataModelSelect=t.Item,this.formControl.setValue(t.Item),this.optionChange.emit(t.Item))})}else{if(typeof t==typeof n.six)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new n.six,this.DataGetAll(null)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(n.FLW),l.Y36(l.sBO),l.Y36(n.EAm))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-cms-module-selector"]],inputs:{loading:"loading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:A,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto35","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(1&t&&(l.F$t(),l.TgZ(0,"mat-form-field",0),l._UZ(1,"input",1),l.TgZ(2,"mat-autocomplete",2,3),l.NdJ("optionSelected",function(t){return e.onActionSelect(t.option.value)}),l.YNc(4,g,3,3,"mat-option",4),l.ALo(5,"async"),l.qZA(),l.YNc(6,I,2,0,"mat-icon",5),l.Hsn(7),l.qZA()),2&t){const t=l.MAs(3);l.xp6(1),l.s9C("placeholder",e.optionPlaceholder),l.Q6J("formControl",e.formControl)("matAutocomplete",t),l.uIk("disabled",!!e.optionDisabled||null),l.xp6(1),l.Q6J("displayWith",e.displayFn),l.xp6(2),l.Q6J("ngForOf",l.lcZ(5,7,e.filteredOptions)),l.xp6(2),l.Q6J("ngIf",e.dataModelSelect.Id)}},directives:[h.KE,m.Nt,s.Fj,f.ZL,s.JJ,s.oH,f.XC,S.sg,S.O5,y.ey,C.Hw,h.R9],pipes:[S.Ov],styles:[""]}),t})()},95631:function(t,e,o){o.d(e,{z:function(){return b}});var i=o(8239),l=o(37716),n=o(2769),s=o(3679),a=o(39761),r=o(54395),c=o(87519),d=o(43190),p=o(88002),u=o(60656),h=o(98295),m=o(49983),f=o(21554),S=o(38583),y=o(72458),C=o(76627);function g(t,e){if(1&t&&(l.TgZ(0,"mat-option",6),l.TgZ(1,"span"),l._uU(2),l.qZA(),l.qZA()),2&t){const t=e.$implicit,o=l.oxw();l.Q6J("value",t)("disabled",o.optionDisabled),l.xp6(2),l.Oqu(o.displayOption(t))}}function I(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"mat-icon",7),l.NdJ("click",function(){return l.CHM(t),l.oxw().onActionSelectClear()}),l._uU(1,"close"),l.qZA()}}const A=["*"];let b=(()=>{class t{constructor(t,e,o){this.coreEnumService=t,this.cdr=e,this.categoryService=o,this.dataModelResult=new n.y$4,this.dataModelSelect=new n.MCb,this.loading=new u.O,this.formControl=new s.NI,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new l.vpe,this.optionReload=()=>this.onActionReload(),this.loading.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.filteredOptions=this.formControl.valueChanges.pipe((0,a.O)(""),(0,r.b)(1e3),(0,c.x)(),(0,d.w)(t=>this.DataGetAll("string"==typeof t||"number"==typeof t?t:"")))}displayFn(t){return t?t.Title:void 0}displayOption(t){return t?t.Title:void 0}DataGetAll(t){var e=this;return(0,i.Z)(function*(){const o=new n.Hay;if(o.RowPerPage=20,o.AccessLoad=!0,t&&t.length>0){let e=new n.AO3;e=new n.AO3,e.PropertyName="SubDomain",e.Value=t,e.SearchType=n.b3P.Contains,e.ClauseType=n.KT6.Or,o.Filters.push(e),e=new n.AO3,e.PropertyName="Domain",e.Value=t,e.SearchType=n.b3P.Contains,e.ClauseType=n.KT6.Or,o.Filters.push(e),e=new n.AO3,e.PropertyName="Title",e.Value=t,e.SearchType=n.b3P.Contains,e.ClauseType=n.KT6.Or,o.Filters.push(e),t&&"number"==typeof+t&&+t>0&&(e=new n.AO3,e.PropertyName="Id",e.Value=t,e.SearchType=n.b3P.Equal,e.ClauseType=n.KT6.Or,o.Filters.push(e))}const i=e.constructor.name+"main";return e.loading.Start(i),yield e.categoryService.ServiceGetAll(o).pipe((0,p.U)(t=>(e.dataModelResult=t,e.optionSelectFirstItem&&(!e.dataModelSelect||!e.dataModelSelect.Id||e.dataModelSelect.Id<=0)&&e.dataModelResult.ListItems.length>0&&(e.optionSelectFirstItem=!1,setTimeout(()=>{e.formControl.setValue(e.dataModelResult.ListItems[0])},1e3),e.onActionSelect(e.dataModelResult.ListItems[0])),e.loading.Stop(i),t.ListItems))).toPromise()})()}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe((0,p.U)(e=>(e.find(e=>e.Id===t.Id)||e.push(t),e)))}onActionSelectForce(t){if("number"==typeof t&&t>0){if(this.dataModelSelect&&this.dataModelSelect.Id===t)return;if(this.dataModelResult&&this.dataModelResult.ListItems&&this.dataModelResult.ListItems.find(e=>e.Id===t)){const e=this.dataModelResult.ListItems.find(e=>e.Id===t);return this.dataModelSelect=e,void this.formControl.setValue(e)}this.categoryService.ServiceGetOneById(t).subscribe(t=>{t.IsSuccess&&(this.filteredOptions=this.push(t.Item),this.dataModelSelect=t.Item,this.formControl.setValue(t.Item),this.optionChange.emit(t.Item))})}else{if(typeof t==typeof n.MCb)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new n.MCb,this.DataGetAll(null)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(n.FLW),l.Y36(l.sBO),l.Y36(n.PwI))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-cms-sitecategory-selector"]],inputs:{loading:"loading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:A,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto34","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(1&t&&(l.F$t(),l.TgZ(0,"mat-form-field",0),l._UZ(1,"input",1),l.TgZ(2,"mat-autocomplete",2,3),l.NdJ("optionSelected",function(t){return e.onActionSelect(t.option.value)}),l.YNc(4,g,3,3,"mat-option",4),l.ALo(5,"async"),l.qZA(),l.YNc(6,I,2,0,"mat-icon",5),l.Hsn(7),l.qZA()),2&t){const t=l.MAs(3);l.xp6(1),l.s9C("placeholder",e.optionPlaceholder),l.Q6J("formControl",e.formControl)("matAutocomplete",t),l.uIk("disabled",!!e.optionDisabled||null),l.xp6(1),l.Q6J("displayWith",e.displayFn),l.xp6(2),l.Q6J("ngForOf",l.lcZ(5,7,e.filteredOptions)),l.xp6(2),l.Q6J("ngIf",e.dataModelSelect.Id)}},directives:[h.KE,m.Nt,s.Fj,f.ZL,s.JJ,s.oH,f.XC,S.sg,S.O5,y.ey,C.Hw,h.R9],pipes:[S.Ov],styles:[""]}),t})()}}]);