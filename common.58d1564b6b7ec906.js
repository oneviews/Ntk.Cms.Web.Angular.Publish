"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[8592],{1230:(F,E,i)=>{i.d(E,{J:()=>M});var t=i(7241),e=i(7969),a=i(9724),d=i(7977);let M=(()=>{class f{constructor(g){this.service=g}transform(g){return!g||g<=0?new t.y:this.service.ServiceGetOneById(g).pipe((0,e.U)(m=>{var p="";return m.isSuccess&&(m.item.username&&m.item.username.length>0&&(p=m.item.username),m.item.email&&m.item.email.length>0&&(p.length>0&&(p+=" | "),p+=m.item.email),m.item.name&&m.item.name.length>0&&(p.length>0&&(p+=" | "),p+=m.item.name),m.item.lastName&&m.item.lastName.length>0&&(p.length>0&&(p+=" | "),p+=m.item.lastName),m.item.mobile&&m.item.mobile.length>0&&(p.length>0&&(p+=" | "),p+=m.item.mobile)),p},m=>""))}}return f.\u0275fac=function(g){return new(g||f)(a.Y36(d.k$Z,16))},f.\u0275pipe=a.Yjl({name:"cmsuserinfo",type:f,pure:!0}),f})()},5828:(F,E,i)=>{i.d(E,{X:()=>t});class t{isErrorState(a,d){return!!(a&&a.invalid&&(a.dirty||a.touched||d&&d.submitted))}}},8838:(F,E,i)=>{i.d(E,{T:()=>e});var t=i(9724);let e=(()=>{class a{transform(M,...f){return JSON.stringify(M,null,2).replace(/ /g,"&nbsp;").replace(/\n/g,"<br/>")}}return a.\u0275fac=function(M){return new(M||a)},a.\u0275pipe=t.Yjl({name:"prettyjson",type:a,pure:!0}),a})()},4351:(F,E,i)=>{i.d(E,{u:()=>p});var t=i(7977),e=i(9724),a=i(656),d=i(4817),M=i(3987),f=i(1048),A=i(3472),g=i(8182);function m(O,S){if(1&O){const c=e.EpF();e.TgZ(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4),e.qZA()(),e._UZ(5,"img",4),e.TgZ(6,"mat-card-content")(7,"p",5),e._uU(8),e.qZA()(),e.TgZ(9,"mat-card-actions")(10,"button",6),e.NdJ("click",function(){const y=e.CHM(c).$implicit,u=e.oxw();return e.KtG(u.onActionSelect(y))}),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()}if(2&O){const c=S.$implicit;e.xp6(4),e.Oqu(c.title),e.xp6(1),e.s9C("src",c.linkModuleFileLogoIdSrc,e.LSH),e.xp6(3),e.hij(" ",c.title," "),e.xp6(3),e.Oqu(e.lcZ(12,4,"ACTION.SELECT"))}}let p=(()=>{class O{constructor(c,h,D,y){this.bankPaymentPrivateSiteConfigService=c,this.translate=h,this.cdr=D,this.publicHelper=y,this.id=++O.nextId,this.optionMasterItem=!1,this.errorMessage="",this.optionChange=new e.vpe,this.dataModelSelect=new t.WC3,this.loading=new a.O,this.dataModelResult=new t.y$4,this.dataModel=new t.oWQ,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}onActionFileSelected(c){this.dataModel.linkMainImageId=c.id,this.dataModel.linkMainImageIdSrc=c.downloadLinksrc}ngOnInit(){this.DataGetAll()}DataGetAll(){if(this.optionMasterItem){const c=this.constructor.name+"main";this.loading.Start(c),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayCoreList().subscribe({next(h){h.isSuccess?(this.dataModelResult=h,this.dataModelResult.listItems&&1==this.dataModelResult.listItems.length&&this.onActionSelect(this.dataModelResult.listItems[0])):this.errorMessage=h.errorMessage,this.loading.Stop(c)},error(h){this.errorMessage=h,this.loading.Stop(c)}})}else{const c=this.constructor.name+"main";this.loading.Start(c),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayList().subscribe({next(h){h.isSuccess?(this.dataModelResult=h,(!this.dataModelResult.listItems||0==this.dataModelResult.listItems.length)&&(this.errorMessage=this.translate.instant("MESSAGE.Payment_portal_is_not_active"))):this.errorMessage=h.errorMessage,this.loading.Stop(c)},error(h){this.errorMessage=h,this.loading.Stop(c)}})}}onActionSelect(c){this.dataModelSelect=c,this.optionChange.emit(this.dataModelSelect)}}return O.nextId=0,O.\u0275fac=function(c){return new(c||O)(e.Y36(t.WyF),e.Y36(d.sK),e.Y36(e.sBO),e.Y36(M.i))},O.\u0275cmp=e.Xpm({type:O,selectors:[["app-cms-bankpayment-grid"]],inputs:{optionMasterItem:"optionMasterItem",loading:"loading"},outputs:{optionChange:"optionChange"},decls:3,vars:2,consts:[[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[2,"max-width","200px"],[1,"rounded","mx-auto","d-block","mat-card-image",2,"width","95%","height","95%",3,"src"],[1,"d-flex","justify-content-center"],["mat-button","",1,"btn","btn-lg","btn-block","border",3,"click"]],template:function(c,h){1&c&&(e.TgZ(0,"div",0),e._uU(1),e.YNc(2,m,13,6,"div",1),e.qZA()),2&c&&(e.xp6(1),e.hij(" ",h.errorMessage," "),e.xp6(1),e.Q6J("ngForOf",h.dataModelResult.listItems))},dependencies:[f.sg,A.lW,g.a8,g.dk,g.dn,g.n5,g.hq,d.X$],encapsulation:2}),O})()},1060:(F,E,i)=>{i.d(E,{l:()=>M});var t=i(1048),e=i(9725),a=i(6776),d=i(9724);let M=(()=>{class f{}return f.\u0275fac=function(g){return new(g||f)},f.\u0275mod=d.oAB({type:f}),f.\u0275inj=d.cJS({imports:[e.JF,t.ez,a.Ch]}),f})()},131:(F,E,i)=>{i.d(E,{L:()=>y});var t=i(9724),e=i(3987),a=i(2607),d=i(1048),M=i(5691),f=i(4848),A=i(8904),g=i(8572),m=i(9274),p=i(4817),O=i(1418);function S(u,I){if(1&u&&(t._UZ(0,"img",14),t.ALo(1,"cmsthumbnail")),2&u){const s=t.oxw().$implicit;t.s9C("src",t.lcZ(1,1,s.value),t.LSH)}}function c(u,I){if(1&u&&(t.TgZ(0,"audio",15),t._UZ(1,"source",16),t._uU(2," Your browser does not support the audio tag. "),t.qZA()),2&u){const s=t.oxw().$implicit;t.xp6(1),t.s9C("src",s.value,t.LSH)}}function h(u,I){if(1&u&&(t.TgZ(0,"video",15),t._UZ(1,"source",17),t._uU(2," Your browser does not support the video tag. "),t.qZA()),2&u){const s=t.oxw().$implicit;t.xp6(1),t.s9C("src",s.value,t.LSH)}}function D(u,I){if(1&u){const s=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,S,2,3,"img",8),t.YNc(5,c,3,1,"audio",9),t.YNc(6,h,3,1,"video",9),t.qZA(),t.TgZ(7,"td")(8,"button",10),t.NdJ("click",function(){t.CHM(s);const P=t.oxw();return t.KtG(P.onActionCopied())}),t.TgZ(9,"mat-icon",11),t._uU(10,"content_copy"),t.qZA(),t._uU(11," Copy "),t.qZA(),t.TgZ(12,"button",12),t.NdJ("click",function(){const _=t.CHM(s).$implicit,v=t.oxw();return t.KtG(v.onActionFileSelectedRemove(_.key))}),t.TgZ(13,"mat-icon",13),t._uU(14,"delete"),t.qZA(),t._uU(15),t.ALo(16,"translate"),t.qZA()()()}if(2&u){const s=I.$implicit;t.xp6(2),t.Oqu(s.key),t.xp6(2),t.Q6J("ngIf",(null==s.value?null:s.value.toLowerCase().indexOf(".png"))>0||(null==s.value?null:s.value.toLowerCase().indexOf(".jpg"))>0||(null==s.value?null:s.value.toLowerCase().indexOf(".jpeg"))>0||(null==s.value?null:s.value.toLowerCase().indexOf(".gif"))>0),t.xp6(1),t.Q6J("ngIf",(null==s.value?null:s.value.toLowerCase().indexOf(".mp3"))>0||(null==s.value?null:s.value.toLowerCase().indexOf(".wave"))>0||(null==s.value?null:s.value.toLowerCase().indexOf(".acc"))>0),t.xp6(1),t.Q6J("ngIf",(null==s.value?null:s.value.toLowerCase().indexOf("mp4"))>0),t.xp6(2),t.Q6J("cdkCopyToClipboard",s.value),t.xp6(7),t.Oqu(t.lcZ(16,6,"ACTION.DELETE"))}}let y=(()=>{class u{constructor(s,C){this.publicHelper=s,this.cmsToastrService=C,this.id=++u.nextId,this.fileManagerOpenForm=!1,this.appLanguage="fa",this.selectFileTypeMainImage=[],this.optionUploadSuccess=new t.vpe,this.dataFileModelChange=new t.vpe,this.openDirectUploadView=!1,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}set optionFileType(s){}set dataFileModel(s){this.optionsData=s,this.dataFileModelChange.emit(s)}get dataFileModel(){return this.optionsData}ngOnInit(){}onActionFileSelected(s){this.dataFileModel.set(s.id,s.downloadLinksrc)}onActionFileSelectedRemove(s){this.dataFileModel.has(s)&&this.dataFileModel.delete(s)}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}}return u.nextId=0,u.\u0275fac=function(s){return new(s||u)(t.Y36(e.i),t.Y36(a.e))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-cms-files-selector"]],inputs:{optionFileType:"optionFileType",openDirectUploadView:"openDirectUploadView",dataFileModel:"dataFileModel"},outputs:{optionUploadSuccess:"optionUploadSuccess",dataFileModelChange:"dataFileModelChange"},decls:23,vars:23,consts:[[1,"mb-12"],[1,"ntk-full-width"],[3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text",3,"placeholder","click"],["LinkMainImageId",""],["matSuffix","",3,"click"],[3,"language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView","itemSelected","openFormChange"],[4,"ngFor","ngForOf"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["controls","",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-sm",3,"cdkCopyToClipboard","click"],[2,"font-size","20px","margin","-1px"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["aria-hidden","false",2,"font-size","20px","margin","-1px"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"]],template:function(s,C){1&s&&(t.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label",2),t.NdJ("click",function(){return C.fileManagerOpenForm=!0}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",3,4),t.NdJ("click",function(){return C.fileManagerOpenForm=!0}),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"mat-icon",5),t.NdJ("click",function(){return C.fileManagerOpenForm=!0}),t._uU(9,"mode_edit"),t.qZA()(),t.TgZ(10,"cms-file-manager",6),t.NdJ("itemSelected",function(_){return C.onActionFileSelected(_)})("openFormChange",function(_){return C.fileManagerOpenForm=_}),t.qZA()(),t.TgZ(11,"table")(12,"tr")(13,"td"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"td"),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"td"),t.qZA(),t.YNc(21,D,17,8,"tr",7),t.ALo(22,"keyvalue"),t.qZA()),2&s&&(t.xp6(3),t.hij("",t.lcZ(4,13,"TITLE.File")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(7,15,"TITLE.Original_File_ID")),t.xp6(5),t.Q6J("language",C.appLanguage)("selectFileType",C.selectFileTypeMainImage)("isPopup",!0)("openForm",C.fileManagerOpenForm)("openDirectUploadView",C.openDirectUploadView)("tree",C.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),t.xp6(4),t.Oqu(t.lcZ(15,17,"TITLE.File_ID")),t.xp6(4),t.hij("",t.lcZ(19,19,"TITLE.link")," "),t.xp6(3),t.Q6J("ngForOf",t.lcZ(22,21,C.dataFileModel)))},dependencies:[d.sg,d.O5,M.KE,M.hX,M.R9,f.Hw,A.Nt,g.HG,m.i3,d.Nd,p.X$,O.v],encapsulation:2}),u})()},1797:(F,E,i)=>{i.d(E,{a:()=>P});var t=i(8239),e=i(9724),a=i(7977),d=i(1659),M=i(1927),f=i(3151),A=i(2147),g=i(1528),m=i(7969),p=i(656),O=i(4817),S=i(1048),c=i(5821),h=i(1531),D=i(5691),y=i(4848),u=i(8904);function I(_,v){if(1&_&&(e.TgZ(0,"mat-option",6)(1,"span"),e._uU(2),e.qZA()()),2&_){const o=v.$implicit,n=e.oxw();e.Q6J("value",o)("disabled",n.optionDisabled),e.xp6(2),e.Oqu(n.displayOption(o))}}function s(_,v){if(1&_){const o=e.EpF();e.TgZ(0,"mat-icon",7),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const C=["*"];let P=(()=>{class _{constructor(o,n,r,T){this.coreEnumService=o,this.translate=n,this.cdr=r,this.categoryService=T,this.id=++_.nextId,this.dataModelResult=new a.y$4,this.dataModelSelect=new a.tQj,this.loading=new p.O,this.formControl=new d.NI,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new e.vpe,this.optionReload=()=>this.onActionReload(),this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(o){this.onActionSelectForce(o)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,M.O)(""),(0,f.b)(1500),(0,A.x)(),(0,g.w)(o=>this.DataGetAll("string"==typeof o||"number"==typeof o?o:"")))}displayFn(o){return o?o.id:void 0}displayOption(o){return o?o.id:void 0}DataGetAll(o){var n=this;return(0,t.Z)(function*(){const r=new a.Hay;if(r.rowPerPage=20,r.accessLoad=!0,o&&o.length>0){let l=new a.AO3;l=new a.AO3,l.propertyName="username",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,r.filters.push(l),l=new a.AO3,l.propertyName="name",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,r.filters.push(l),l=new a.AO3,l.propertyName="email",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,r.filters.push(l),l=new a.AO3,l.propertyName="lastname",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,r.filters.push(l),o&&"number"==typeof+o&&+o>0&&(l=new a.AO3,l.propertyName="Id",l.value=o,l.searchType=a.b3P.Equal,l.clauseType=a.KT6.Or,r.filters.push(l))}const T=n.constructor.name+"categoryService.ServiceGetAll";return n.loading.Start(T),yield n.categoryService.ServiceGetAll(r).pipe((0,m.U)(l=>(n.dataModelResult=l,n.loading.Stop(T),l.listItems))).toPromise()})()}onActionSelect(o){this.optionDisabled||(this.dataModelSelect=o,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.formControl.setValue(null),this.optionChange.emit(null))}push(o){return this.filteredOptions.pipe((0,m.U)(n=>(n.find(r=>r.id===o.id)||n.push(o),n)))}onActionSelectForce(o){if("string"==typeof o&&o.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===o)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(n=>n.id===o)){const n=this.dataModelResult.listItems.find(r=>r.id===o);return this.dataModelSelect=n,void this.formControl.setValue(n)}this.categoryService.ServiceGetOneById(o).subscribe(n=>{n.isSuccess&&(this.filteredOptions=this.push(n.item),this.dataModelSelect=n.item,this.formControl.setValue(n.item),this.optionChange.emit(n.item))})}else{if(typeof o==typeof a.tQj)return this.filteredOptions=this.push(o),this.dataModelSelect=o,void this.formControl.setValue(o);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new a.tQj,this.loadOptions()}}return _.nextId=0,_.\u0275fac=function(o){return new(o||_)(e.Y36(a.FLW),e.Y36(O.sK),e.Y36(e.sBO),e.Y36(a.Z_L))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-cms-member-selector"]],inputs:{loading:"loading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:C,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto33","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,n){if(1&o&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"input",1),e.TgZ(2,"mat-autocomplete",2,3),e.NdJ("optionSelected",function(T){return n.onActionSelect(T.option.value)}),e.YNc(4,I,3,3,"mat-option",4),e.ALo(5,"async"),e.qZA(),e.YNc(6,s,2,0,"mat-icon",5),e.Hsn(7),e.qZA()),2&o){const r=e.MAs(3);e.xp6(1),e.s9C("placeholder",n.optionPlaceholder),e.Q6J("formControl",n.formControl)("matAutocomplete",r),e.uIk("disabled",!!n.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",n.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,7,n.filteredOptions)),e.xp6(2),e.Q6J("ngIf",n.dataModelSelect.id)}},dependencies:[S.sg,S.O5,d.Fj,d.JJ,d.oH,c.XC,c.ZL,h.ey,D.KE,D.R9,y.Hw,u.Nt,S.Ov],encapsulation:2}),_})()},1126:(F,E,i)=>{i.d(E,{g:()=>P});var t=i(8239),e=i(9724),a=i(7977),d=i(1659),M=i(1927),f=i(3151),A=i(2147),g=i(1528),m=i(7969),p=i(656),O=i(4817),S=i(1048),c=i(5821),h=i(1531),D=i(5691),y=i(4848),u=i(8904);function I(_,v){if(1&_&&(e.TgZ(0,"mat-option",6)(1,"span"),e._uU(2),e.qZA()()),2&_){const o=v.$implicit,n=e.oxw();e.Q6J("value",o)("disabled",n.optionDisabled),e.xp6(2),e.Oqu(n.displayOption(o))}}function s(_,v){if(1&_){const o=e.EpF();e.TgZ(0,"mat-icon",7),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const C=["*"];let P=(()=>{class _{constructor(o,n,r,T){this.coreEnumService=o,this.translate=n,this.cdr=r,this.categoryService=T,this.id=++_.nextId,this.dataModelResult=new a.y$4,this.dataModelSelect=new a.six,this.loading=new p.O,this.formControl=new d.NI,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new e.vpe,this.optionReload=()=>this.onActionReload(),this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(o){this.onActionSelectForce(o)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,M.O)(""),(0,f.b)(1500),(0,A.x)(),(0,g.w)(o=>this.DataGetAll("string"==typeof o||"number"==typeof o?o:"")))}displayFn(o){return o?o.title+" # "+o.className:void 0}displayOption(o){return o?o.title+" # "+o.className:void 0}DataGetAll(o){var n=this;return(0,t.Z)(function*(){const r=new a.Hay;if(r.rowPerPage=20,r.accessLoad=!0,o&&o.length>0){let l=new a.AO3;l=new a.AO3,l.propertyName="classname",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,r.filters.push(l),l=new a.AO3,l.propertyName="name",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,r.filters.push(l),l=new a.AO3,l.propertyName="email",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,r.filters.push(l),l=new a.AO3,l.propertyName="lastname",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,r.filters.push(l),o&&"number"==typeof+o&&+o>0&&(l=new a.AO3,l.propertyName="Id",l.value=o,l.searchType=a.b3P.Equal,l.clauseType=a.KT6.Or,r.filters.push(l))}const T=n.constructor.name+"main";return n.loading.Start(T),yield n.categoryService.ServiceGetAll(r).pipe((0,m.U)(l=>(n.dataModelResult=l,n.optionSelectFirstItem&&(!n.dataModelSelect||!n.dataModelSelect.id||n.dataModelSelect.id<=0)&&n.dataModelResult.listItems.length>0&&(n.optionSelectFirstItem=!1,setTimeout(()=>{n.formControl.setValue(n.dataModelResult.listItems[0])},1e3),n.onActionSelect(n.dataModelResult.listItems[0])),n.loading.Stop(T),l.listItems))).toPromise()})()}onActionSelect(o){this.optionDisabled||(this.dataModelSelect=o,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.formControl.setValue(null),this.optionChange.emit(new a.six))}push(o){return this.filteredOptions.pipe((0,m.U)(n=>(n.find(r=>r.id===o.id)||n.push(o),n)))}onActionSelectForce(o){if("number"==typeof o&&o>0){if(this.dataModelSelect&&this.dataModelSelect.id===o)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(n=>n.id===o)){const n=this.dataModelResult.listItems.find(r=>r.id===o);return this.dataModelSelect=n,void this.formControl.setValue(n)}this.categoryService.ServiceGetOneById(o).subscribe(n=>{n.isSuccess&&(this.filteredOptions=this.push(n.item),this.dataModelSelect=n.item,this.formControl.setValue(n.item),this.optionChange.emit(n.item))})}else{if(typeof o==typeof a.six)return this.filteredOptions=this.push(o),this.dataModelSelect=o,void this.formControl.setValue(o);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new a.six,this.loadOptions()}}return _.nextId=0,_.\u0275fac=function(o){return new(o||_)(e.Y36(a.FLW),e.Y36(O.sK),e.Y36(e.sBO),e.Y36(a.EAm))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-cms-module-selector"]],inputs:{loading:"loading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:C,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto35","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,n){if(1&o&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"input",1),e.TgZ(2,"mat-autocomplete",2,3),e.NdJ("optionSelected",function(T){return n.onActionSelect(T.option.value)}),e.YNc(4,I,3,3,"mat-option",4),e.ALo(5,"async"),e.qZA(),e.YNc(6,s,2,0,"mat-icon",5),e.Hsn(7),e.qZA()),2&o){const r=e.MAs(3);e.xp6(1),e.s9C("placeholder",n.optionPlaceholder),e.Q6J("formControl",n.formControl)("matAutocomplete",r),e.uIk("disabled",!!n.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",n.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,7,n.filteredOptions)),e.xp6(2),e.Q6J("ngIf",n.dataModelSelect.id)}},dependencies:[S.sg,S.O5,d.Fj,d.JJ,d.oH,c.XC,c.ZL,h.ey,D.KE,D.R9,y.Hw,u.Nt,S.Ov],encapsulation:2}),_})()}}]);