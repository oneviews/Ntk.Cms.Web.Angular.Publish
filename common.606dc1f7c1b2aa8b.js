"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[8592],{1230:(R,A,i)=>{i.d(A,{J:()=>O});var e=i(818),t=i(7969),a=i(9724),h=i(7977);let O=(()=>{class g{constructor(C){this.service=C}transform(C){return!C||C<=0?new e.y:this.service.ServiceGetOneById(C).pipe((0,t.U)(m=>{var p="";return m.isSuccess&&(m.item.username&&m.item.username.length>0&&(p=m.item.username),m.item.email&&m.item.email.length>0&&(p.length>0&&(p+=" | "),p+=m.item.email),m.item.name&&m.item.name.length>0&&(p.length>0&&(p+=" | "),p+=m.item.name),m.item.lastName&&m.item.lastName.length>0&&(p.length>0&&(p+=" | "),p+=m.item.lastName),m.item.mobile&&m.item.mobile.length>0&&(p.length>0&&(p+=" | "),p+=m.item.mobile)),p},m=>""))}}return g.\u0275fac=function(C){return new(C||g)(a.Y36(h.k$Z,16))},g.\u0275pipe=a.Yjl({name:"cmsuserinfo",type:g,pure:!0}),g})()},5828:(R,A,i)=>{i.d(A,{X:()=>e});class e{isErrorState(a,h){return!!(a&&a.invalid&&(a.dirty||a.touched||h&&h.submitted))}}},8838:(R,A,i)=>{i.d(A,{T:()=>t});var e=i(9724);let t=(()=>{class a{transform(O,...g){return JSON.stringify(O,null,2).replace(/ /g,"&nbsp;").replace(/\n/g,"<br/>")}}return a.\u0275fac=function(O){return new(O||a)},a.\u0275pipe=e.Yjl({name:"prettyjson",type:a,pure:!0}),a})()},4351:(R,A,i)=>{i.d(A,{u:()=>p});var e=i(7977),t=i(9724),a=i(656),h=i(4817),O=i(3987),g=i(1048),v=i(8182),C=i(3472);function m(u,P){if(1&u){const s=t.EpF();t.TgZ(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4),t.qZA()(),t._UZ(5,"img",4),t.TgZ(6,"mat-card-content")(7,"p",5),t._uU(8),t.qZA()(),t.TgZ(9,"mat-card-actions")(10,"button",6),t.NdJ("click",function(){const E=t.CHM(s).$implicit;return t.oxw().onActionSelect(E)}),t._uU(11),t.ALo(12,"translate"),t.qZA()()()()}if(2&u){const s=P.$implicit;t.xp6(4),t.Oqu(s.title),t.xp6(1),t.s9C("src",s.linkModuleFileLogoIdSrc,t.LSH),t.xp6(3),t.hij(" ",s.title," "),t.xp6(3),t.Oqu(t.lcZ(12,4,"ACTION.SELECT"))}}let p=(()=>{class u{constructor(s,c,M,E){this.bankPaymentPrivateSiteConfigService=s,this.translate=c,this.cdr=M,this.publicHelper=E,this.id=++u.nextId,this.optionMasterItem=!1,this.errorMessage="",this.optionChange=new t.vpe,this.dataModelSelect=new e.WC3,this.loading=new a.O,this.dataModelResult=new e.y$4,this.dataModel=new e.oWQ,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}onActionFileSelected(s){this.dataModel.linkMainImageId=s.id,this.dataModel.linkMainImageIdSrc=s.downloadLinksrc}ngOnInit(){this.DataGetAll()}DataGetAll(){if(this.optionMasterItem){const s=this.constructor.name+"main";this.loading.Start(s),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayCoreList().subscribe({next(c){c.isSuccess?(this.dataModelResult=c,this.dataModelResult.listItems&&1==this.dataModelResult.listItems.length&&this.onActionSelect(this.dataModelResult.listItems[0])):this.errorMessage=c.errorMessage,this.loading.Stop(s)},error(c){this.errorMessage=c,this.loading.Stop(s)}})}else{const s=this.constructor.name+"main";this.loading.Start(s),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayList().subscribe({next(c){c.isSuccess?(this.dataModelResult=c,(!this.dataModelResult.listItems||0==this.dataModelResult.listItems.length)&&(this.errorMessage=this.translate.instant("MESSAGE.Payment_portal_is_not_active"))):this.errorMessage=c.errorMessage,this.loading.Stop(s)},error(c){this.errorMessage=c,this.loading.Stop(s)}})}}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}}return u.nextId=0,u.\u0275fac=function(s){return new(s||u)(t.Y36(e.WyF),t.Y36(h.sK),t.Y36(t.sBO),t.Y36(O.i))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-cms-bankpayment-grid"]],inputs:{optionMasterItem:"optionMasterItem",loading:"loading"},outputs:{optionChange:"optionChange"},decls:3,vars:2,consts:[[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[2,"max-width","200px"],[1,"rounded","mx-auto","d-block","mat-card-image",2,"width","95%","height","95%",3,"src"],[1,"d-flex","justify-content-center"],["mat-button","",1,"btn","btn-lg","btn-block","border",3,"click"]],template:function(s,c){1&s&&(t.TgZ(0,"div",0),t._uU(1),t.YNc(2,m,13,6,"div",1),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",c.errorMessage," "),t.xp6(1),t.Q6J("ngForOf",c.dataModelResult.listItems))},directives:[g.sg,v.a8,v.dk,v.n5,v.dn,v.hq,C.lW],pipes:[h.X$],encapsulation:2}),u})()},1060:(R,A,i)=>{i.d(A,{l:()=>O});var e=i(1048),t=i(9725),a=i(6776),h=i(9724);let O=(()=>{class g{}return g.\u0275fac=function(C){return new(C||g)},g.\u0275mod=h.oAB({type:g}),g.\u0275inj=h.cJS({providers:[],imports:[[t.JF,e.ez,a.Ch]]}),g})()},131:(R,A,i)=>{i.d(A,{L:()=>E});var e=i(9724),t=i(3987),a=i(2607),h=i(5691),O=i(8904),g=i(4848),v=i(8572),C=i(1048),m=i(9274),p=i(4817),u=i(1418);function P(f,D){if(1&f&&(e._UZ(0,"img",14),e.ALo(1,"cmsthumbnail")),2&f){const r=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,r.value),e.LSH)}}function s(f,D){if(1&f&&(e.TgZ(0,"audio",15),e._UZ(1,"source",16),e._uU(2," Your browser does not support the audio tag. "),e.qZA()),2&f){const r=e.oxw().$implicit;e.xp6(1),e.s9C("src",r.value,e.LSH)}}function c(f,D){if(1&f&&(e.TgZ(0,"video",15),e._UZ(1,"source",17),e._uU(2," Your browser does not support the video tag. "),e.qZA()),2&f){const r=e.oxw().$implicit;e.xp6(1),e.s9C("src",r.value,e.LSH)}}function M(f,D){if(1&f){const r=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,P,2,3,"img",8),e.YNc(5,s,3,1,"audio",9),e.YNc(6,c,3,1,"video",9),e.qZA(),e.TgZ(7,"td")(8,"button",10),e.NdJ("click",function(){return e.CHM(r),e.oxw().onActionCopied()}),e.TgZ(9,"mat-icon",11),e._uU(10,"content_copy"),e.qZA(),e._uU(11," Copy "),e.qZA(),e.TgZ(12,"button",12),e.NdJ("click",function(){const d=e.CHM(r).$implicit;return e.oxw().onActionFileSelectedRemove(d.key)}),e.TgZ(13,"mat-icon",13),e._uU(14,"delete"),e.qZA(),e._uU(15),e.ALo(16,"translate"),e.qZA()()()}if(2&f){const r=D.$implicit;e.xp6(2),e.Oqu(r.key),e.xp6(2),e.Q6J("ngIf",(null==r.value?null:r.value.toLowerCase().indexOf(".png"))>0||(null==r.value?null:r.value.toLowerCase().indexOf(".jpg"))>0||(null==r.value?null:r.value.toLowerCase().indexOf(".jpeg"))>0||(null==r.value?null:r.value.toLowerCase().indexOf(".gif"))>0),e.xp6(1),e.Q6J("ngIf",(null==r.value?null:r.value.toLowerCase().indexOf(".mp3"))>0||(null==r.value?null:r.value.toLowerCase().indexOf(".wave"))>0||(null==r.value?null:r.value.toLowerCase().indexOf(".acc"))>0),e.xp6(1),e.Q6J("ngIf",(null==r.value?null:r.value.toLowerCase().indexOf("mp4"))>0),e.xp6(2),e.Q6J("cdkCopyToClipboard",r.value),e.xp6(7),e.Oqu(e.lcZ(16,6,"ACTION.DELETE"))}}let E=(()=>{class f{constructor(r,S){this.publicHelper=r,this.cmsToastrService=S,this.id=++f.nextId,this.fileManagerOpenForm=!1,this.appLanguage="fa",this.selectFileTypeMainImage=[],this.optionUploadSuccess=new e.vpe,this.dataFileModelChange=new e.vpe,this.openDirectUploadView=!1,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}set optionFileType(r){}set dataFileModel(r){this.optionsData=r,this.dataFileModelChange.emit(r)}get dataFileModel(){return this.optionsData}ngOnInit(){}onActionFileSelected(r){this.dataFileModel.set(r.id,r.downloadLinksrc)}onActionFileSelectedRemove(r){this.dataFileModel.has(r)&&this.dataFileModel.delete(r)}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}}return f.nextId=0,f.\u0275fac=function(r){return new(r||f)(e.Y36(t.i),e.Y36(a.e))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-cms-files-selector"]],inputs:{optionFileType:"optionFileType",openDirectUploadView:"openDirectUploadView",dataFileModel:"dataFileModel"},outputs:{optionUploadSuccess:"optionUploadSuccess",dataFileModelChange:"dataFileModelChange"},decls:20,vars:14,consts:[[1,"mb-12"],[1,"ntk-full-width"],[3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text",3,"placeholder","click"],["LinkMainImageId",""],["matSuffix","",3,"click"],[3,"language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView","itemSelected","openFormChange"],[4,"ngFor","ngForOf"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["controls","",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-sm",3,"cdkCopyToClipboard","click"],[2,"font-size","20px","margin","-1px"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["aria-hidden","false",2,"font-size","20px","margin","-1px"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"]],template:function(r,S){1&r&&(e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label",2),e.NdJ("click",function(){return S.fileManagerOpenForm=!0}),e._uU(3,"\u0641\u0627\u06cc\u0644 "),e.qZA(),e.TgZ(4,"input",3,4),e.NdJ("click",function(){return S.fileManagerOpenForm=!0}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"mat-icon",5),e.NdJ("click",function(){return S.fileManagerOpenForm=!0}),e._uU(8,"mode_edit"),e.qZA()(),e.TgZ(9,"cms-file-manager",6),e.NdJ("itemSelected",function(d){return S.onActionFileSelected(d)})("openFormChange",function(d){return S.fileManagerOpenForm=d}),e.qZA()(),e.TgZ(10,"table")(11,"tr")(12,"td"),e._uU(13,"\u0634\u0646\u0627\u0633\u0647 \u0641\u0627\u06cc\u0644"),e.qZA(),e._UZ(14,"td"),e.TgZ(15,"td"),e._uU(16,"\u0644\u06cc\u0646\u06a9 "),e.qZA(),e._UZ(17,"td"),e.qZA(),e.YNc(18,M,17,8,"tr",7),e.ALo(19,"keyvalue"),e.qZA()),2&r&&(e.xp6(4),e.s9C("placeholder",e.lcZ(6,10,"TITLE.Original_File_ID")),e.xp6(5),e.Q6J("language",S.appLanguage)("selectFileType",S.selectFileTypeMainImage)("isPopup",!0)("openForm",S.fileManagerOpenForm)("openDirectUploadView",S.openDirectUploadView)("tree",S.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),e.xp6(9),e.Q6J("ngForOf",e.lcZ(19,12,S.dataFileModel)))},directives:[h.KE,h.hX,O.Nt,g.Hw,h.R9,v.HG,C.sg,C.O5,m.i3],pipes:[p.X$,C.Nd,u.v],encapsulation:2}),f})()},1797:(R,A,i)=>{i.d(A,{a:()=>I});var e=i(8239),t=i(9724),a=i(7977),h=i(1659),O=i(1927),g=i(3151),v=i(2147),C=i(1528),m=i(7969),p=i(656),u=i(4817),P=i(5691),s=i(8904),c=i(5821),M=i(1048),E=i(1531),f=i(4848);function D(d,y){if(1&d&&(t.TgZ(0,"mat-option",6)(1,"span"),t._uU(2),t.qZA()()),2&d){const o=y.$implicit,n=t.oxw();t.Q6J("value",o)("disabled",n.optionDisabled),t.xp6(2),t.Oqu(n.displayOption(o))}}function r(d,y){if(1&d){const o=t.EpF();t.TgZ(0,"mat-icon",7),t.NdJ("click",function(){return t.CHM(o),t.oxw().onActionSelectClear()}),t._uU(1,"close"),t.qZA()}}const S=["*"];let I=(()=>{class d{constructor(o,n,_,T){this.coreEnumService=o,this.translate=n,this.cdr=_,this.categoryService=T,this.id=++d.nextId,this.dataModelResult=new a.y$4,this.dataModelSelect=new a.tQj,this.loading=new p.O,this.formControl=new h.NI,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new t.vpe,this.optionReload=()=>this.onActionReload(),this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(o){this.onActionSelectForce(o)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,O.O)(""),(0,g.b)(1500),(0,v.x)(),(0,C.w)(o=>this.DataGetAll("string"==typeof o||"number"==typeof o?o:"")))}displayFn(o){return o?o.id:void 0}displayOption(o){return o?o.id:void 0}DataGetAll(o){var n=this;return(0,e.Z)(function*(){const _=new a.Hay;if(_.rowPerPage=20,_.accessLoad=!0,o&&o.length>0){let l=new a.AO3;l=new a.AO3,l.propertyName="username",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,_.filters.push(l),l=new a.AO3,l.propertyName="name",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,_.filters.push(l),l=new a.AO3,l.propertyName="email",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,_.filters.push(l),l=new a.AO3,l.propertyName="lastname",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,_.filters.push(l),o&&"number"==typeof+o&&+o>0&&(l=new a.AO3,l.propertyName="Id",l.value=o,l.searchType=a.b3P.Equal,l.clauseType=a.KT6.Or,_.filters.push(l))}const T=n.constructor.name+"categoryService.ServiceGetAll";return n.loading.Start(T),yield n.categoryService.ServiceGetAll(_).pipe((0,m.U)(l=>(n.dataModelResult=l,n.loading.Stop(T),l.listItems))).toPromise()})()}onActionSelect(o){this.optionDisabled||(this.dataModelSelect=o,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.formControl.setValue(null),this.optionChange.emit(null))}push(o){return this.filteredOptions.pipe((0,m.U)(n=>(n.find(_=>_.id===o.id)||n.push(o),n)))}onActionSelectForce(o){if("string"==typeof o&&o.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===o)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(n=>n.id===o)){const n=this.dataModelResult.listItems.find(_=>_.id===o);return this.dataModelSelect=n,void this.formControl.setValue(n)}this.categoryService.ServiceGetOneById(o).subscribe(n=>{n.isSuccess&&(this.filteredOptions=this.push(n.item),this.dataModelSelect=n.item,this.formControl.setValue(n.item),this.optionChange.emit(n.item))})}else{if(typeof o==typeof a.tQj)return this.filteredOptions=this.push(o),this.dataModelSelect=o,void this.formControl.setValue(o);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new a.tQj,this.loadOptions()}}return d.nextId=0,d.\u0275fac=function(o){return new(o||d)(t.Y36(a.FLW),t.Y36(u.sK),t.Y36(t.sBO),t.Y36(a.Z_L))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-cms-member-selector"]],inputs:{loading:"loading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:S,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto33","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,n){if(1&o&&(t.F$t(),t.TgZ(0,"mat-form-field",0),t._UZ(1,"input",1),t.TgZ(2,"mat-autocomplete",2,3),t.NdJ("optionSelected",function(T){return n.onActionSelect(T.option.value)}),t.YNc(4,D,3,3,"mat-option",4),t.ALo(5,"async"),t.qZA(),t.YNc(6,r,2,0,"mat-icon",5),t.Hsn(7),t.qZA()),2&o){const _=t.MAs(3);t.xp6(1),t.s9C("placeholder",n.optionPlaceholder),t.Q6J("formControl",n.formControl)("matAutocomplete",_),t.uIk("disabled",!!n.optionDisabled||null),t.xp6(1),t.Q6J("displayWith",n.displayFn),t.xp6(2),t.Q6J("ngForOf",t.lcZ(5,7,n.filteredOptions)),t.xp6(2),t.Q6J("ngIf",n.dataModelSelect.id)}},directives:[P.KE,s.Nt,h.Fj,c.ZL,h.JJ,h.oH,c.XC,M.sg,E.ey,M.O5,f.Hw,P.R9],pipes:[M.Ov],encapsulation:2}),d})()},1126:(R,A,i)=>{i.d(A,{g:()=>I});var e=i(8239),t=i(9724),a=i(7977),h=i(1659),O=i(1927),g=i(3151),v=i(2147),C=i(1528),m=i(7969),p=i(656),u=i(4817),P=i(5691),s=i(8904),c=i(5821),M=i(1048),E=i(1531),f=i(4848);function D(d,y){if(1&d&&(t.TgZ(0,"mat-option",6)(1,"span"),t._uU(2),t.qZA()()),2&d){const o=y.$implicit,n=t.oxw();t.Q6J("value",o)("disabled",n.optionDisabled),t.xp6(2),t.Oqu(n.displayOption(o))}}function r(d,y){if(1&d){const o=t.EpF();t.TgZ(0,"mat-icon",7),t.NdJ("click",function(){return t.CHM(o),t.oxw().onActionSelectClear()}),t._uU(1,"close"),t.qZA()}}const S=["*"];let I=(()=>{class d{constructor(o,n,_,T){this.coreEnumService=o,this.translate=n,this.cdr=_,this.categoryService=T,this.id=++d.nextId,this.dataModelResult=new a.y$4,this.dataModelSelect=new a.six,this.loading=new p.O,this.formControl=new h.NI,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new t.vpe,this.optionReload=()=>this.onActionReload(),this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(o){this.onActionSelectForce(o)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,O.O)(""),(0,g.b)(1500),(0,v.x)(),(0,C.w)(o=>this.DataGetAll("string"==typeof o||"number"==typeof o?o:"")))}displayFn(o){return o?o.title+" # "+o.className:void 0}displayOption(o){return o?o.title+" # "+o.className:void 0}DataGetAll(o){var n=this;return(0,e.Z)(function*(){const _=new a.Hay;if(_.rowPerPage=20,_.accessLoad=!0,o&&o.length>0){let l=new a.AO3;l=new a.AO3,l.propertyName="classname",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,_.filters.push(l),l=new a.AO3,l.propertyName="name",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,_.filters.push(l),l=new a.AO3,l.propertyName="email",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,_.filters.push(l),l=new a.AO3,l.propertyName="lastname",l.value=o,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,_.filters.push(l),o&&"number"==typeof+o&&+o>0&&(l=new a.AO3,l.propertyName="Id",l.value=o,l.searchType=a.b3P.Equal,l.clauseType=a.KT6.Or,_.filters.push(l))}const T=n.constructor.name+"main";return n.loading.Start(T),yield n.categoryService.ServiceGetAll(_).pipe((0,m.U)(l=>(n.dataModelResult=l,n.optionSelectFirstItem&&(!n.dataModelSelect||!n.dataModelSelect.id||n.dataModelSelect.id<=0)&&n.dataModelResult.listItems.length>0&&(n.optionSelectFirstItem=!1,setTimeout(()=>{n.formControl.setValue(n.dataModelResult.listItems[0])},1e3),n.onActionSelect(n.dataModelResult.listItems[0])),n.loading.Stop(T),l.listItems))).toPromise()})()}onActionSelect(o){this.optionDisabled||(this.dataModelSelect=o,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.formControl.setValue(null),this.optionChange.emit(new a.six))}push(o){return this.filteredOptions.pipe((0,m.U)(n=>(n.find(_=>_.id===o.id)||n.push(o),n)))}onActionSelectForce(o){if("number"==typeof o&&o>0){if(this.dataModelSelect&&this.dataModelSelect.id===o)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(n=>n.id===o)){const n=this.dataModelResult.listItems.find(_=>_.id===o);return this.dataModelSelect=n,void this.formControl.setValue(n)}this.categoryService.ServiceGetOneById(o).subscribe(n=>{n.isSuccess&&(this.filteredOptions=this.push(n.item),this.dataModelSelect=n.item,this.formControl.setValue(n.item),this.optionChange.emit(n.item))})}else{if(typeof o==typeof a.six)return this.filteredOptions=this.push(o),this.dataModelSelect=o,void this.formControl.setValue(o);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new a.six,this.loadOptions()}}return d.nextId=0,d.\u0275fac=function(o){return new(o||d)(t.Y36(a.FLW),t.Y36(u.sK),t.Y36(t.sBO),t.Y36(a.EAm))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-cms-module-selector"]],inputs:{loading:"loading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:S,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto35","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,n){if(1&o&&(t.F$t(),t.TgZ(0,"mat-form-field",0),t._UZ(1,"input",1),t.TgZ(2,"mat-autocomplete",2,3),t.NdJ("optionSelected",function(T){return n.onActionSelect(T.option.value)}),t.YNc(4,D,3,3,"mat-option",4),t.ALo(5,"async"),t.qZA(),t.YNc(6,r,2,0,"mat-icon",5),t.Hsn(7),t.qZA()),2&o){const _=t.MAs(3);t.xp6(1),t.s9C("placeholder",n.optionPlaceholder),t.Q6J("formControl",n.formControl)("matAutocomplete",_),t.uIk("disabled",!!n.optionDisabled||null),t.xp6(1),t.Q6J("displayWith",n.displayFn),t.xp6(2),t.Q6J("ngForOf",t.lcZ(5,7,n.filteredOptions)),t.xp6(2),t.Q6J("ngIf",n.dataModelSelect.id)}},directives:[P.KE,s.Nt,h.Fj,c.ZL,h.JJ,h.oH,c.XC,M.sg,E.ey,M.O5,f.Hw,P.R9],pipes:[M.Ov],encapsulation:2}),d})()},4370:(R,A,i)=>{i.d(A,{a:()=>p});var e=i(9724),t=i(7977),a=i(1659),h=i(656),O=i(2607),g=i(4817),v=i(1048),C=i(6088);function m(u,P){if(1&u){const s=e.EpF();e.TgZ(0,"li")(1,"mat-checkbox",1),e.NdJ("change",function(){const E=e.CHM(s).$implicit;return e.oxw().onActionSelect(E)}),e._uU(2),e.qZA()()}if(2&u){const s=P.$implicit,c=e.oxw();e.xp6(1),e.Q6J("checked",c.fieldsStatus.get(s.id))("disabled",c.optionDisabled),e.xp6(1),e.hij(" ",s.title," ")}}let p=(()=>{class u{constructor(s,c,M,E,f){this.coreEnumService=s,this.categoryService=c,this.cdr=M,this.cmsToastrService=E,this.translate=f,this.id=++u.nextId,this.dataModelResult=new t.y$4,this.dataModelSelect=[],this.dataIdsSelect=[],this.loading=new h.O,this.formControl=new a.NI,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder=new e.vpe,this.optionChange=new e.vpe,this.optionSelectAdded=new e.vpe,this.optionSelectRemoved=new e.vpe,this.optionReload=()=>this.onActionReload(),this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.DataGetAll()}DataGetAll(){const s=new t.Hay;s.rowPerPage=50,s.accessLoad=!0;const c=this.constructor.name+"main";this.loading.Start(c),this.categoryService.ServiceGetAll(s).subscribe(M=>{M.isSuccess&&(this.dataModelResult=M,this.dataModelResult.listItems.forEach(E=>this.fieldsStatus.set(E.id,!1)),this.dataIdsSelect.forEach(E=>this.fieldsStatus.set(E,!0)),this.dataModelResult.listItems.forEach(E=>{this.fieldsStatus.get(E.id)&&this.dataModelSelect.push(E)})),this.loading.Stop(c)},M=>{this.cmsToastrService.typeError(M),this.loading.Stop(c)})}onActionSelect(s){this.fieldsStatus.get(s.id)?(this.fieldsStatus.set(s.id,!1),this.optionSelectRemoved.emit(s),this.dataModelSelect.splice(this.dataModelSelect.indexOf(s),1)):(this.fieldsStatus.set(s.id,!0),this.optionSelectAdded.emit(s),this.dataModelSelect.push(s)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(s){typeof s==typeof Array(Number)?s.forEach(c=>{this.dataIdsSelect.push(c)}):typeof s==typeof Array(t.MCb)&&s.forEach(c=>{this.dataIdsSelect.push(c.id)}),this.dataIdsSelect.forEach(c=>this.fieldsStatus.set(c,!0))}onActionReload(){this.DataGetAll()}}return u.nextId=0,u.\u0275fac=function(s){return new(s||u)(e.Y36(t.FLW),e.Y36(t.PwI),e.Y36(e.sBO),e.Y36(O.e),e.Y36(g.sK))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-cms-sitecategory-selectionlist"]],inputs:{loading:"loading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"checked","disabled","change"]],template:function(s,c){1&s&&(e.TgZ(0,"ul"),e.YNc(1,m,3,3,"li",0),e.qZA()),2&s&&(e.xp6(1),e.Q6J("ngForOf",c.dataModelResult.listItems))},directives:[v.sg,C.oG],encapsulation:2}),u})()}}]);