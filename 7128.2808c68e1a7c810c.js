"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[7128],{7128:(Yt,b,d)=>{d.r(b),d.d(b,{CoreUserSupportAccessCmsModule:()=>Wt});var u=d(1048),M=d(7076),f=d(8774),a=d(7977),k=d(6964),S=d(656),Q=d(9723),W=d(9312),R=d(8239),h=d(5019),e=d(9724),I=d(2607),E=d(3987),_=d(4817),r=d(1659),x=d(1531),m=d(5691),w=d(4848),T=d(8904),N=d(1450),Z=d(1582),O=d(6599),v=d(3181),J=d(5738),G=d(1927),B=d(3151),Y=d(2147),H=d(1528),y=d(7969),q=d(5821);function j(s,i){if(1&s&&(e.TgZ(0,"mat-option",6)(1,"span"),e._uU(2),e.qZA()()),2&s){const t=i.$implicit,o=e.oxw();e.Q6J("value",t)("disabled",o.optionDisabled),e.xp6(2),e.Oqu(o.displayOption(t))}}function P(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionSelectClear())}),e._uU(1,"\"this.translate.instant('TITLE.close')\""),e.qZA()}}const K=["*"];let F=(()=>{class s{constructor(t,o,n,l,c){this.coreEnumService=t,this.cmsToastrService=o,this.cdr=n,this.translate=l,this.categoryService=c,this.dataModelResult=new a.y$4,this.dataModelSelect=new a.$Qt,this.loading=new S.O,this.formControl=new r.NI,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new e.vpe,this.optionReload=()=>this.onActionReload(),this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,G.O)(""),(0,B.b)(1500),(0,Y.x)(),(0,H.w)(t=>"string"==typeof t||"number"==typeof t?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.moduleName+" # "+t.moduleEntityName:void 0}displayOption(t){return t?t.moduleName+" # "+t.moduleEntityName:void 0}DataGetAll(t){var o=this;return(0,R.Z)(function*(){const n=new a.Hay;n.rowPerPage=20,n.accessLoad=!0;let l=new a.AO3;l.propertyName="moduleName",l.value=t,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,n.filters.push(l),l=new a.AO3,l.propertyName="moduleEntityName",l.value=t,l.searchType=a.b3P.Contains,l.clauseType=a.KT6.Or,n.filters.push(l),t&&"number"==typeof+t&&+t>0&&(l=new a.AO3,l.propertyName="Id",l.value=t,l.searchType=a.b3P.Equal,l.clauseType=a.KT6.Or,n.filters.push(l));const c=o.constructor.name+"main";return o.loading.Start(c),yield o.categoryService.ServiceGetAll(n).pipe((0,y.U)(p=>(o.dataModelResult=p,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0])},1e3),o.onActionSelect(o.dataModelResult.listItems[0])),o.loading.Stop(c),p.listItems))).toPromise()})()}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.formControl.setValue(null),this.optionChange.emit(null))}onActionEmpty(){this.formControl.setValue(0),this.dataModelSelect=new a.$Qt,this.optionChange.emit(this.dataModelSelect)}push(t){return this.filteredOptions.pipe((0,y.U)(o=>(o.find(n=>n.id===t.id)||o.push(t),o)))}onActionSelectForce(t){if("number"==typeof t&&t>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===t)){const o=this.dataModelResult.listItems.find(n=>n.id===t);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(t).subscribe({next:o=>{o.isSuccess?(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item)):this.cmsToastrService.typeErrorMessage(o.errorMessage)}})}else{if(typeof t==typeof a.$Qt)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new a.$Qt,this.loadOptions()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(a.FLW),e.Y36(I.e),e.Y36(e.sBO),e.Y36(_.sK),e.Y36(a.ngI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-core-module-entity-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:K,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto15","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,o){if(1&t&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"input",1),e.TgZ(2,"mat-autocomplete",2,3),e.NdJ("optionSelected",function(l){return o.onActionSelect(l.option.value)}),e.YNc(4,j,3,3,"mat-option",4),e.ALo(5,"async"),e.qZA(),e.YNc(6,P,2,0,"mat-icon",5),e.Hsn(7),e.qZA()),2&t){const n=e.MAs(3);e.xp6(1),e.s9C("placeholder",o.optionPlaceholder),e.Q6J("formControl",o.formControl)("matAutocomplete",n),e.uIk("disabled",!!o.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",o.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,7,o.filteredOptions)),e.xp6(2),e.Q6J("ngIf",o.dataModelSelect.id)}},dependencies:[u.sg,u.O5,r.Fj,r.JJ,r.oH,q.XC,q.ZL,x.ey,m.KE,m.R9,w.Hw,T.Nt,u.Ov],encapsulation:2}),s})();const $=["vform"];function V(s,i){if(1&s&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function X(s,i){1&s&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function z(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.dataModel.moduleName="")}),e._uU(1,"close"),e.qZA()}}function ee(s,i){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.ModuleName?null:t.fieldsInfo.ModuleName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function te(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-form-field",35)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",36,37),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleName=n)}),e.qZA(),e.YNc(5,z,2,0,"mat-icon",38),e.TgZ(6,"mat-icon",39),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",40)(9,"mat-icon",41),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",42),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,ee,5,4,"mat-error",10),e.qZA()}if(2&s){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.ModuleName?null:o.fieldsInfo.ModuleName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=o.fieldsInfo.ModuleName&&o.fieldsInfo.ModuleName.accessEditField)),e.s9C("placeholder",null==o.fieldsInfo.ModuleName?null:o.fieldsInfo.ModuleName.fieldTitle),e.Q6J("ngModel",o.dataModel.moduleName),e.xp6(2),e.Q6J("ngIf",o.dataModel.moduleName),e.xp6(7),e.Oqu(null==o.fieldsInfo.ModuleName?null:o.fieldsInfo.ModuleName.FieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function oe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.dataModel.moduleEntityName="")}),e._uU(1,"close"),e.qZA()}}function se(s,i){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.ModuleEntityName?null:t.fieldsInfo.ModuleEntityName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function ne(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-form-field",35)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",44,45),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleEntityName=n)}),e.qZA(),e.YNc(5,oe,2,0,"mat-icon",38),e.TgZ(6,"mat-icon",39),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",40)(9,"mat-icon",41),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",42),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,se,5,4,"mat-error",10),e.qZA()}if(2&s){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.ModuleEntityName?null:o.fieldsInfo.ModuleEntityName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=o.fieldsInfo.ModuleEntityName&&o.fieldsInfo.ModuleEntityName.accessEditField)),e.s9C("placeholder",null==o.fieldsInfo.ModuleEntityName?null:o.fieldsInfo.ModuleEntityName.fieldTitle),e.Q6J("ngModel",o.dataModel.moduleEntityName),e.xp6(2),e.Q6J("ngIf",o.dataModel.moduleEntityName),e.xp6(7),e.Oqu(null==o.fieldsInfo.ModuleEntityName?null:o.fieldsInfo.ModuleEntityName.FieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function le(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRow)("disabled",!(null!=t.fieldsInfo.AccessDeleteRow&&t.fieldsInfo.AccessDeleteRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessDeleteRow?null:t.fieldsInfo.AccessDeleteRow.fieldTitle," ")}}function ie(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRow)("disabled",!(null!=t.fieldsInfo.AccessWatchRow&&t.fieldsInfo.AccessWatchRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessWatchRow?null:t.fieldsInfo.AccessWatchRow.fieldTitle," ")}}function ae(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRow)("disabled",!(null!=t.fieldsInfo.AccessCountRow&&t.fieldsInfo.AccessCountRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessCountRow?null:t.fieldsInfo.AccessCountRow.fieldTitle," ")}}function de(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRow)("disabled",!(null!=t.fieldsInfo.AccessEditRow&&t.fieldsInfo.AccessEditRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessEditRow?null:t.fieldsInfo.AccessEditRow.fieldTitle," ")}}function ce(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessAddRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessAddRow)("disabled",!(null!=t.fieldsInfo.AccessAddRow&&t.fieldsInfo.AccessAddRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessAddRow?null:t.fieldsInfo.AccessAddRow.fieldTitle," ")}}function re(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessRowInPanelDemo=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessRowInPanelDemo)("disabled",!(null!=t.fieldsInfo.AccessRowInPanelDemo&&t.fieldsInfo.AccessRowInPanelDemo.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessRowInPanelDemo?null:t.fieldsInfo.AccessRowInPanelDemo.fieldTitle," ")}}function ue(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessRowWatchInSharingCategory=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessRowWatchInSharingCategory)("disabled",!(null!=t.fieldsInfo.AccessRowWatchInSharingCategory&&t.fieldsInfo.AccessRowWatchInSharingCategory.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessRowWatchInSharingCategory?null:t.fieldsInfo.AccessRowWatchInSharingCategory.fieldTitle," ")}}function me(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",53),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherSiteId=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.AccessWatchRowOtherSiteId&&t.fieldsInfo.AccessWatchRowOtherSiteId.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessWatchRowOtherSiteId?null:t.fieldsInfo.AccessWatchRowOtherSiteId.fieldTitle," ")}}function pe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.AccessWatchRowOtherCreatedBy&&t.fieldsInfo.AccessWatchRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessWatchRowOtherCreatedBy?null:t.fieldsInfo.AccessWatchRowOtherCreatedBy.fieldTitle," ")}}function fe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherSiteId=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.AccessCountRowOtherSiteId&&t.fieldsInfo.AccessCountRowOtherSiteId.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessCountRowOtherSiteId?null:t.fieldsInfo.AccessCountRowOtherSiteId.fieldTitle," ")}}function ge(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.AccessCountRowOtherCreatedBy&&t.fieldsInfo.AccessCountRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessCountRowOtherCreatedBy?null:t.fieldsInfo.AccessCountRowOtherCreatedBy.fieldTitle," ")}}function _e(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherSiteId=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.AccessEditRowOtherSiteId&&t.fieldsInfo.AccessEditRowOtherSiteId.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessEditRowOtherSiteId?null:t.fieldsInfo.AccessEditRowOtherSiteId.fieldTitle," ")}}function he(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.AccessEditRowOtherCreatedBy&&t.fieldsInfo.AccessEditRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessEditRowOtherCreatedBy?null:t.fieldsInfo.AccessEditRowOtherCreatedBy.fieldTitle," ")}}function Ce(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.AccessDeleteRowOtherCreatedBy&&t.fieldsInfo.AccessDeleteRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessDeleteRowOtherCreatedBy?null:t.fieldsInfo.AccessDeleteRowOtherCreatedBy.fieldTitle," ")}}function Ae(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",61),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",62),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormSubmit())}),e._UZ(6,"i",63),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&s){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Me=(()=>{class s{constructor(t,o,n,l,c,p,C,A){this.data=t,this.dialogRef=o,this.coreEnumService=n,this.coreUserSupportAccessService=l,this.cmsToastrService=c,this.publicHelper=p,this.cdr=C,this.translate=A,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestModuleName="",this.requestModuleEntityName="",this.fieldsInfo=new Map,this.appLanguage="fa",this.loading=new S.O,this.dataModelResult=new a.y$4,this.dataModel=new a.gwb,this.formInfo=new a.LEF,this.dataModelEnumRecordStatusResult=new a.y$4,this.dataModelEnumManageUserAccessUserTypesResult=new a.y$4,this.fileManagerOpenForm=!1,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestLinkSiteId=+t.linkSiteId||0,this.requestLinkUserId=+t.linkUserId||0,this.requestModuleName=t.moduleName,this.requestModuleEntityName=t.moduleEntityName),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(!(this.requestLinkSiteId>0&&this.requestLinkUserId>0&&this.requestModuleName&&this.requestModuleName.length>0&&this.requestModuleEntityName&&this.requestModuleEntityName.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.getEnumManageUserAccessUserTypes(),this.getEnumRecordStatus()}getEnumRecordStatus(){var t=this;return(0,R.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceEnumManageUserAccessUserTypes().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}DataGetOneContent(){if(this.requestLinkSiteId<=0||this.requestLinkUserId<=0||!this.requestModuleName||0==this.requestModuleName.length||!this.requestModuleEntityName||this.requestModuleEntityName.length<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t);const o=new a.Hay;let n=new a.AO3;n.propertyName="LinkSiteId",n.value=this.requestLinkSiteId,o.filters.push(n),n=new a.AO3,n.propertyName="LinkUserId",n.value=this.requestLinkUserId,o.filters.push(n),n=new a.AO3,n.propertyName="ModuleName",n.value=this.requestModuleName,o.filters.push(n),n=new a.AO3,n.propertyName="ModuleEntityName",n.value=this.requestModuleEntityName,o.filters.push(n),this.coreUserSupportAccessService.setAccessLoad(),this.coreUserSupportAccessService.setAccessDataType(a.MZK.Editor),this.coreUserSupportAccessService.ServiceGetAll(o).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?l.listItems&&l.listItems.length>0?(this.dataModel=l.listItems[0],this.formInfo.formAlert=""):this.cmsToastrService.typeError(this.translate.instant("MESSAGE.Module_not_found_for_editing")):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=l.errorMessage,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreUserSupportAccessService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSelectorModuleEntitySelect(t){this.dataModel.moduleName="",this.dataModel.moduleEntityName="",t&&t.id>0&&(this.dataModel.moduleName=t.moduleName,this.dataModel.moduleEntityName=t.moduleEntityName)}onFormSubmit(){!this.formGroup.valid||(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(h.WI),e.Y36(h.so),e.Y36(a.FLW),e.Y36(a.fuJ),e.Y36(I.e),e.Y36(E.i),e.Y36(e.sBO),e.Y36(_.sK))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-core-user-support-access-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf($,5),2&t){let n;e.iGM(n=e.CRH())&&(o.formGroup=n.first)}},decls:55,vars:37,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionPlaceholder","optionChange"],["class","ntk-full-width mb-1",4,"ngIf"],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessRowInPanelDemo",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessRowWatchInSharingCategory",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"ntk-full-width","mb-1"],["matInput","","name","dataModel.moduleName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleName",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["align","start"],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.moduleEntityName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleEntityName",""],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessRowInPanelDemo",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessRowWatchInSharingCategory",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(9,V,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,X,5,3,"mat-error",10),e.qZA(),e._UZ(14,"app-cms-site-selector",11)(15,"app-cms-user-selector",11),e.TgZ(16,"app-core-module-entity-selector",12),e.NdJ("optionChange",function(l){return o.onActionSelectorModuleEntitySelect(l)}),e.qZA(),e.YNc(17,te,16,8,"mat-form-field",13),e.YNc(18,ne,16,8,"mat-form-field",13),e.TgZ(19,"div",5),e.YNc(20,le,2,3,"mat-slide-toggle",14),e.qZA(),e.TgZ(21,"div",5),e.YNc(22,ie,2,3,"mat-slide-toggle",15),e.qZA(),e.TgZ(23,"div",5),e.YNc(24,ae,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(25,"div",5),e.YNc(26,de,2,3,"mat-slide-toggle",17),e.qZA(),e.TgZ(27,"div",5),e.YNc(28,ce,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(29,"div",5),e.YNc(30,re,2,3,"mat-slide-toggle",19),e.qZA(),e.TgZ(31,"div",5),e.YNc(32,ue,2,3,"mat-slide-toggle",20),e.qZA(),e.TgZ(33,"div",5),e.YNc(34,me,2,3,"mat-slide-toggle",21),e.qZA(),e.TgZ(35,"div",5),e.YNc(36,pe,2,3,"mat-slide-toggle",22),e.qZA(),e.TgZ(37,"div",5),e.YNc(38,fe,2,3,"mat-slide-toggle",23),e.qZA(),e.TgZ(39,"div",5),e.YNc(40,ge,2,3,"mat-slide-toggle",24),e.qZA(),e.TgZ(41,"div",5),e.YNc(42,_e,2,3,"mat-slide-toggle",25),e.qZA(),e.TgZ(43,"div",5),e.YNc(44,he,2,3,"mat-slide-toggle",26),e.qZA(),e.TgZ(45,"div",5),e.YNc(46,Ce,2,3,"mat-slide-toggle",27),e.qZA()(),e.TgZ(47,"div",28)(48,"div",29)(49,"small",30),e._uU(50),e.qZA(),e.TgZ(51,"small",31),e._uU(52),e.qZA()()(),e.TgZ(53,"div",32),e.YNc(54,Ae,9,7,"div",33),e.qZA()()),2&t){const n=e.MAs(8);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.RecordStatus?null:o.fieldsInfo.RecordStatus.fieldTitle),e.MGl("panelClass","recordStatus-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,35,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.ModuleName&&o.fieldsInfo.ModuleName.accessEditField))("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.ModuleName&&o.fieldsInfo.ModuleName.accessEditField))("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.ModuleName&&o.fieldsInfo.ModuleName.accessEditField))("optionPlaceholder",o.translate.instant("TITLE.MODULE")),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.ModuleName?null:o.fieldsInfo.ModuleName.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.ModuleEntityName?null:o.fieldsInfo.ModuleEntityName.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessDeleteRow?null:o.fieldsInfo.AccessDeleteRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessWatchRow?null:o.fieldsInfo.AccessWatchRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessCountRow?null:o.fieldsInfo.AccessCountRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessEditRow?null:o.fieldsInfo.AccessEditRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessAddRow?null:o.fieldsInfo.AccessAddRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessRowInPanelDemo?null:o.fieldsInfo.AccessRowInPanelDemo.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessRowWatchInSharingCategory?null:o.fieldsInfo.AccessRowWatchInSharingCategory.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessWatchRowOtherSiteId?null:o.fieldsInfo.AccessWatchRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessWatchRowOtherCreatedBy?null:o.fieldsInfo.AccessWatchRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessCountRowOtherSiteId?null:o.fieldsInfo.AccessCountRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessCountRowOtherCreatedBy?null:o.fieldsInfo.AccessCountRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessEditRowOtherSiteId?null:o.fieldsInfo.AccessEditRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessEditRowOtherCreatedBy?null:o.fieldsInfo.AccessEditRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessDeleteRowOtherCreatedBy?null:o.fieldsInfo.AccessDeleteRowOtherCreatedBy.accessWatchField),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display)}},dependencies:[u.sg,u.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.On,r.F,x.ey,m.TO,m.KE,m.bx,m.hX,m.R9,w.Hw,T.Nt,N.gD,Z.Rr,O.P,v.g,J.O,F,_.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]}),s})();const Se=["vform"];function Ie(s,i){if(1&s&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function we(s,i){1&s&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Te(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.dataModel.moduleName="")}),e._uU(1,"close"),e.qZA()}}function Re(s,i){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.ModuleName?null:t.fieldsInfo.ModuleName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Ee(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-form-field",35)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",36,37),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleName=n)}),e.qZA(),e.YNc(5,Te,2,0,"mat-icon",38),e.TgZ(6,"mat-icon",39),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",40)(9,"mat-icon",41),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",42),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,Re,5,4,"mat-error",10),e.qZA()}if(2&s){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.ModuleName?null:o.fieldsInfo.ModuleName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=o.fieldsInfo.ModuleName&&o.fieldsInfo.ModuleName.accessAddField)),e.s9C("placeholder",null==o.fieldsInfo.ModuleName?null:o.fieldsInfo.ModuleName.fieldTitle),e.Q6J("ngModel",o.dataModel.moduleName),e.xp6(2),e.Q6J("ngIf",o.dataModel.moduleName),e.xp6(7),e.Oqu(null==o.fieldsInfo.ModuleName?null:o.fieldsInfo.ModuleName.FieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function xe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.dataModel.moduleEntityName="")}),e._uU(1,"close"),e.qZA()}}function Ze(s,i){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.ModuleEntityName?null:t.fieldsInfo.ModuleEntityName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function ye(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-form-field",35)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",44,45),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleEntityName=n)}),e.qZA(),e.YNc(5,xe,2,0,"mat-icon",38),e.TgZ(6,"mat-icon",39),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",40)(9,"mat-icon",41),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",42),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,Ze,5,4,"mat-error",10),e.qZA()}if(2&s){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.ModuleEntityName?null:o.fieldsInfo.ModuleEntityName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=o.fieldsInfo.ModuleEntityName&&o.fieldsInfo.ModuleEntityName.accessAddField)),e.s9C("placeholder",null==o.fieldsInfo.ModuleEntityName?null:o.fieldsInfo.ModuleEntityName.fieldTitle),e.Q6J("ngModel",o.dataModel.moduleEntityName),e.xp6(2),e.Q6J("ngIf",o.dataModel.moduleEntityName),e.xp6(7),e.Oqu(null==o.fieldsInfo.ModuleEntityName?null:o.fieldsInfo.ModuleEntityName.FieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Ue(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRow)("disabled",!(null!=t.fieldsInfo.AccessDeleteRow&&t.fieldsInfo.AccessDeleteRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessDeleteRow?null:t.fieldsInfo.AccessDeleteRow.fieldTitle," ")}}function be(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRow)("disabled",!(null!=t.fieldsInfo.AccessWatchRow&&t.fieldsInfo.AccessWatchRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessWatchRow?null:t.fieldsInfo.AccessWatchRow.fieldTitle," ")}}function Ne(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRow)("disabled",!(null!=t.fieldsInfo.AccessCountRow&&t.fieldsInfo.AccessCountRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessCountRow?null:t.fieldsInfo.AccessCountRow.fieldTitle," ")}}function Oe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRow)("disabled",!(null!=t.fieldsInfo.AccessEditRow&&t.fieldsInfo.AccessEditRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessEditRow?null:t.fieldsInfo.AccessEditRow.fieldTitle," ")}}function ve(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessAddRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessAddRow)("disabled",!(null!=t.fieldsInfo.AccessAddRow&&t.fieldsInfo.AccessAddRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessAddRow?null:t.fieldsInfo.AccessAddRow.fieldTitle," ")}}function Je(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessRowInPanelDemo=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessRowInPanelDemo)("disabled",!(null!=t.fieldsInfo.AccessRowInPanelDemo&&t.fieldsInfo.AccessRowInPanelDemo.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessRowInPanelDemo?null:t.fieldsInfo.AccessRowInPanelDemo.fieldTitle," ")}}function qe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessRowWatchInSharingCategory=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessRowWatchInSharingCategory)("disabled",!(null!=t.fieldsInfo.AccessRowWatchInSharingCategory&&t.fieldsInfo.AccessRowWatchInSharingCategory.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessRowWatchInSharingCategory?null:t.fieldsInfo.AccessRowWatchInSharingCategory.fieldTitle," ")}}function Fe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",53),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherSiteId=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.AccessWatchRowOtherSiteId&&t.fieldsInfo.AccessWatchRowOtherSiteId.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessWatchRowOtherSiteId?null:t.fieldsInfo.AccessWatchRowOtherSiteId.fieldTitle," ")}}function De(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.AccessWatchRowOtherCreatedBy&&t.fieldsInfo.AccessWatchRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessWatchRowOtherCreatedBy?null:t.fieldsInfo.AccessWatchRowOtherCreatedBy.fieldTitle," ")}}function Le(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherSiteId=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.AccessCountRowOtherSiteId&&t.fieldsInfo.AccessCountRowOtherSiteId.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessCountRowOtherSiteId?null:t.fieldsInfo.AccessCountRowOtherSiteId.fieldTitle," ")}}function ke(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.AccessCountRowOtherCreatedBy&&t.fieldsInfo.AccessCountRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessCountRowOtherCreatedBy?null:t.fieldsInfo.AccessCountRowOtherCreatedBy.fieldTitle," ")}}function Qe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherSiteId=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.AccessEditRowOtherSiteId&&t.fieldsInfo.AccessEditRowOtherSiteId.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessEditRowOtherSiteId?null:t.fieldsInfo.AccessEditRowOtherSiteId.fieldTitle," ")}}function We(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.AccessEditRowOtherCreatedBy&&t.fieldsInfo.AccessEditRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessEditRowOtherCreatedBy?null:t.fieldsInfo.AccessEditRowOtherCreatedBy.fieldTitle," ")}}function Ge(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.AccessDeleteRowOtherCreatedBy&&t.fieldsInfo.AccessDeleteRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessDeleteRowOtherCreatedBy?null:t.fieldsInfo.AccessDeleteRowOtherCreatedBy.fieldTitle," ")}}function Be(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",61),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",62),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormSubmit())}),e._UZ(6,"i",63),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&s){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Ye=(()=>{class s{constructor(t,o,n,l,c,p,C,A){this.data=t,this.dialogRef=o,this.coreEnumService=n,this.coreUserSupportAccessService=l,this.cmsToastrService=c,this.publicHelper=p,this.cdr=C,this.translate=A,this.fieldsInfo=new Map,this.appLanguage="fa",this.loading=new S.O,this.dataModelResult=new a.y$4,this.dataModel=new a.gwb,this.formInfo=new a.LEF,this.dataModelEnumRecordStatusResult=new a.y$4,this.dataModelEnumManageUserAccessUserTypesResult=new a.y$4,this.fileManagerOpenForm=!1,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),t&&(this.dataModel.linkSiteId=+t.linkSiteId||0,this.dataModel.linkUserId=+t.linkUserId||0,this.dataModel.moduleName=t.moduleName,this.dataModel.moduleEntityName=t.moduleEntityName)}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.ADD"),this.getEnumManageUserAccessUserTypes(),this.DataGetAccess(),this.getEnumRecordStatus()}getEnumRecordStatus(){var t=this;return(0,R.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceEnumManageUserAccessUserTypes().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}DataGetAccess(){this.coreUserSupportAccessService.ServiceViewModel().subscribe({next:t=>{t.isSuccess?this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access):this.cmsToastrService.typeErrorGetAccess(t.errorMessage)},error:t=>{this.cmsToastrService.typeErrorGetAccess(t)}})}DataAddContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreUserSupportAccessService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSelectorModuleEntitySelect(t){this.dataModel.moduleName="",this.dataModel.moduleEntityName="",t&&t.id>0&&(this.dataModel.moduleName=t.moduleName,this.dataModel.moduleEntityName=t.moduleEntityName)}onFormSubmit(){!this.formGroup.valid||(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(h.WI),e.Y36(h.so),e.Y36(a.FLW),e.Y36(a.fuJ),e.Y36(I.e),e.Y36(E.i),e.Y36(e.sBO),e.Y36(_.sK))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-core-user-support-access-add"]],viewQuery:function(t,o){if(1&t&&e.Gf(Se,5),2&t){let n;e.iGM(n=e.CRH())&&(o.formGroup=n.first)}},decls:56,vars:37,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionPlaceholder","optionChange"],["class","ntk-full-width mb-1",4,"ngIf"],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessRowInPanelDemo",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessRowWatchInSharingCategory",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"ntk-full-width","mb-1"],["matInput","","name","dataModel.moduleName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleName",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["align","start"],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.moduleEntityName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleEntityName",""],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessRowInPanelDemo",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessRowWatchInSharingCategory",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(9,Ie,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,we,5,3,"mat-error",10),e.qZA(),e._UZ(14,"app-cms-site-selector",11)(15,"app-cms-user-selector",11),e.TgZ(16,"app-core-module-entity-selector",12),e.NdJ("optionChange",function(l){return o.onActionSelectorModuleEntitySelect(l)}),e.qZA(),e.YNc(17,Ee,16,8,"mat-form-field",13),e.YNc(18,ye,16,8,"mat-form-field",13),e._UZ(19,"hr"),e.TgZ(20,"div",5),e.YNc(21,Ue,2,3,"mat-slide-toggle",14),e.qZA(),e.TgZ(22,"div",5),e.YNc(23,be,2,3,"mat-slide-toggle",15),e.qZA(),e.TgZ(24,"div",5),e.YNc(25,Ne,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(26,"div",5),e.YNc(27,Oe,2,3,"mat-slide-toggle",17),e.qZA(),e.TgZ(28,"div",5),e.YNc(29,ve,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(30,"div",5),e.YNc(31,Je,2,3,"mat-slide-toggle",19),e.qZA(),e.TgZ(32,"div",5),e.YNc(33,qe,2,3,"mat-slide-toggle",20),e.qZA(),e.TgZ(34,"div",5),e.YNc(35,Fe,2,3,"mat-slide-toggle",21),e.qZA(),e.TgZ(36,"div",5),e.YNc(37,De,2,3,"mat-slide-toggle",22),e.qZA(),e.TgZ(38,"div",5),e.YNc(39,Le,2,3,"mat-slide-toggle",23),e.qZA(),e.TgZ(40,"div",5),e.YNc(41,ke,2,3,"mat-slide-toggle",24),e.qZA(),e.TgZ(42,"div",5),e.YNc(43,Qe,2,3,"mat-slide-toggle",25),e.qZA(),e.TgZ(44,"div",5),e.YNc(45,We,2,3,"mat-slide-toggle",26),e.qZA(),e.TgZ(46,"div",5),e.YNc(47,Ge,2,3,"mat-slide-toggle",27),e.qZA()(),e.TgZ(48,"div",28)(49,"div",29)(50,"small",30),e._uU(51),e.qZA(),e.TgZ(52,"small",31),e._uU(53),e.qZA()()(),e.TgZ(54,"div",32),e.YNc(55,Be,9,7,"div",33),e.qZA()()),2&t){const n=e.MAs(8);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.RecordStatus?null:o.fieldsInfo.RecordStatus.fieldTitle),e.MGl("panelClass","recordStatus-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,35,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.ModuleName&&o.fieldsInfo.ModuleName.accessAddField))("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.ModuleName&&o.fieldsInfo.ModuleName.accessAddField))("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.ModuleName&&o.fieldsInfo.ModuleName.accessAddField))("optionPlaceholder",o.translate.instant("TITLE.MODULE")),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.ModuleName?null:o.fieldsInfo.ModuleName.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.ModuleEntityName?null:o.fieldsInfo.ModuleEntityName.accessWatchField),e.xp6(3),e.Q6J("ngIf",null==o.fieldsInfo.AccessDeleteRow?null:o.fieldsInfo.AccessDeleteRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessWatchRow?null:o.fieldsInfo.AccessWatchRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessCountRow?null:o.fieldsInfo.AccessCountRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessEditRow?null:o.fieldsInfo.AccessEditRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessAddRow?null:o.fieldsInfo.AccessAddRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessRowInPanelDemo?null:o.fieldsInfo.AccessRowInPanelDemo.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessRowWatchInSharingCategory?null:o.fieldsInfo.AccessRowWatchInSharingCategory.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessWatchRowOtherSiteId?null:o.fieldsInfo.AccessWatchRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessWatchRowOtherCreatedBy?null:o.fieldsInfo.AccessWatchRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessCountRowOtherSiteId?null:o.fieldsInfo.AccessCountRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessCountRowOtherCreatedBy?null:o.fieldsInfo.AccessCountRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessEditRowOtherSiteId?null:o.fieldsInfo.AccessEditRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessEditRowOtherCreatedBy?null:o.fieldsInfo.AccessEditRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.AccessDeleteRowOtherCreatedBy?null:o.fieldsInfo.AccessDeleteRowOtherCreatedBy.accessWatchField),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display)}},dependencies:[u.sg,u.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.On,r.F,x.ey,m.TO,m.KE,m.bx,m.hX,m.R9,w.Hw,T.Nt,N.gD,Z.Rr,O.P,v.g,J.O,F,_.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]}),s})();var He=d(3914),je=d(727),Pe=d(3472),U=d(4545),Ke=d(5903),D=d(9988),$e=d(3014),Ve=d(626),Xe=d(7154),ze=d(7980),et=d(3673),tt=d(1230),ot=d(7241);let st=(()=>{class s{constructor(t){this.service=t}transform(t){return!t||t<=0?new ot.y:this.service.ServiceGetOneById(t).pipe((0,y.U)(o=>{var n="";return o.isSuccess&&(o.item.title&&o.item.title.length>0&&(n=o.item.title),o.item.id&&o.item.id>0&&(n.length>0&&(n+=" | "),n+=o.item.id),o.item.domain&&o.item.domain.length>0&&o.item.subDomain&&o.item.subDomain.length>0?(n.length>0&&(n+=" | "),n=n+o.item.subDomain+"."+o.item.domain):o.item.domain&&o.item.domain.length>0&&(n.length>0&&(n+=" | "),n+=o.item.domain)),n},o=>""))}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(a._0e,16))},s.\u0275pipe=e.Yjl({name:"cmssiteinfo",type:s,pure:!0}),s})();var nt=d(3953),lt=d(1101);function it(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonNewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function at(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function dt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function ct(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.RecordStatus?null:t.fieldsInfo.RecordStatus.fieldTitle," ")}}const rt=function(s){return{display:s}};function ut(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",41),e.ALo(2,"statusClass"),e._UZ(3,"select",42),e.qZA()),2&s){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngClass",e.lcZ(2,4,t.recordStatus)),e.xp6(2),e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(6,rt,t.linkSiteId===o.tableRowSelected.linkSiteId&&t.linkUserId===o.tableRowSelected.linkUserId?"":"none"))}}function mt(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.LinkSiteId?null:t.fieldsInfo.LinkSiteId.fieldTitle," ")}}function pt(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function ft(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.LinkUserId?null:t.fieldsInfo.LinkUserId.fieldTitle," ")}}function gt(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function _t(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.ModuleName?null:t.fieldsInfo.ModuleName.fieldTitle," ")}}function ht(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.hij(" ",t.moduleName," ")}}function Ct(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.ModuleEntityName?null:t.fieldsInfo.ModuleEntityName.fieldTitle," ")}}function At(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityName," ")}}function Mt(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessAddRow?null:t.fieldsInfo.AccessAddRow.fieldTitle," ")}}function St(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",41),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessAddRow))}}function It(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessWatchRow?null:t.fieldsInfo.AccessWatchRow.fieldTitle," ")}}function wt(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",41),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessWatchRow))}}function Tt(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessEditRow?null:t.fieldsInfo.AccessEditRow.fieldTitle," ")}}function Rt(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",41),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessEditRow))}}function Et(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessDeleteRow?null:t.fieldsInfo.AccessDeleteRow.fieldTitle," ")}}function xt(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",41),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessDeleteRow))}}function Zt(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.AccessCountRow?null:t.fieldsInfo.AccessCountRow.fieldTitle," ")}}function yt(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",41),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessCountRow))}}function Ut(s,i){1&s&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function bt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&s&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Nt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&s&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Ot(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-cell",43)(1,"button",44)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,45),e.YNc(6,bt,6,3,"button",46),e.YNc(7,Nt,6,3,"button",46),e.TgZ(8,"button",47),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onActionbuttonUserList(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"person"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&s){const t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,4,"ACTION.USERS"))}}function vt(s,i){1&s&&e._UZ(0,"mat-header-row")}const Jt=function(s){return{background:s}};function qt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-row",48),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onActionTableRowSelect(l))}),e.qZA()}if(2&s){const t=i.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,Jt,t.linkSiteId===o.tableRowSelected.linkSiteId&&t.linkUserId===o.tableRowSelected.linkUserId?"#d3d3da":""))}}const Ft=function(){return[5,10,20,100]};let L=(()=>{class s{constructor(t,o,n,l,c,p,C,A,Gt,Bt){if(this.contentService=t,this.publicHelper=o,this.cmsToastrService=n,this.cmsConfirmationDialogService=l,this.router=c,this.tokenHelper=p,this.activatedRoute=C,this.cdr=A,this.translate=Gt,this.dialog=Bt,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestModuleName="",this.requestModuleEntityName="",this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new a.Hay,this.dataModelResult=new a.y$4,this.optionsSearch=new k.dj,this.optionsStatist=new W.TV,this.optionsExport=new Q.zR,this.tokenInfo=new a.OdC,this.loading=new S.O,this.tableRowsSelected=[],this.tableRowSelected=new a.gwb,this.tableSource=new f.by,this.fieldsInfo=new Map,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","LinkUserId","LinkSiteId","ModuleName","ModuleEntityName","AccessAddRow","AccessWatchRow","AccessEditRow","AccessDeleteRow","AccessCountRow","Action"],this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestModuleName=this.activatedRoute.snapshot.paramMap.get("ModuleName"),this.requestModuleEntityName=this.activatedRoute.snapshot.paramMap.get("ModuleEntityName"),this.optionsSearch.parentMethods={onSubmit:g=>this.onSubmitOptionsSearch(g)},this.optionsExport.parentMethods={onSubmit:g=>this.onSubmitOptionExport(g)},this.filteModelContent.sortColumn="LinkSiteId",this.filteModelContent.sortType=a.oCf.Descending,this.requestLinkSiteId>0){const g=new a.AO3;g.propertyName="LinkSiteId",g.value=this.requestLinkSiteId,this.filteModelContent.filters.push(g)}if(this.requestLinkUserId>0){const g=new a.AO3;g.propertyName="LinkUserId",g.value=this.requestLinkUserId,this.filteModelContent.filters.push(g)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.tableRowSelected=new a.gwb;const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.oCf.Descending):"desc"===this.tableSource.sort.start?(this.filteModelContent.sortColumn="",this.filteModelContent.sortType=a.oCf.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.oCf.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(Ye,{height:"90%",data:{linkSiteId:this.requestLinkSiteId,linkUserId:this.requestLinkUserId,moduleName:this.requestModuleName,moduleEntityName:this.requestModuleEntityName}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.linkSiteId&&0!==t.linkSiteId&&t.linkUserId&&0!==t.linkUserId?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Me,{height:"90%",data:{linkSiteId:this.tableRowSelected.linkSiteId,linkUserId:this.tableRowSelected.linkUserId,moduleName:this.tableRowSelected.moduleName,moduleEntityName:this.tableRowSelected.moduleEntityName}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.linkSiteId||0===t.linkSiteId||!t.linkUserId||0===t.linkUserId){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.tableRowSelected=t,null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.linkSiteId+" ) ";this.cmsConfirmationDialogService.confirm(o,n).then(l=>{if(l){const c=this.constructor.name+"main";this.loading.Start(c),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(c)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(c)}})}}).catch(()=>{})}onActionbuttonUserList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.tableRowSelected=t,this.router.navigate(["/core/site/userlist/LinkUserSupportAccessId/",this.tableRowSelected.id]);else{const o=this.translate.instant("MESSAGE.no_row_selected_to_display");this.cmsToastrService.typeErrorSelected(o)}}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set("Active",0),t.set("All",0),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set("All",l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),n=new a.AO3;n.propertyName="RecordStatus",n.value=a.FVU.Available,o.filters.push(n),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set("Active",l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}onActionbuttonExport(){this.optionsExport.data.show=!this.optionsExport.data.show,this.optionsExport.childMethods.setExportFilterModel(this.filteModelContent)}onSubmitOptionExport(t){const o=new Map;o.set("Download","loading ... "),this.contentService.ServiceExportFile(t).subscribe({next:n=>{n.isSuccess?(o.set("Download",n.linkFile),this.optionsExport.childMethods.setExportLinkFile(o)):this.cmsToastrService.typeErrorMessage(n.errorMessage)},error:n=>{this.cmsToastrService.typeError(n)}})}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(a.fuJ),e.Y36(E.i),e.Y36(I.e),e.Y36(He.s),e.Y36(M.F0),e.Y36(je.v),e.Y36(M.gz),e.Y36(e.sBO),e.Y36(_.sK),e.Y36(h.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-core-user-support-access-list"]],decls:69,vars:29,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn btn-outline-primary","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","btn-outline-info","btn-sm","BTN"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","btn-outline-secondary","BTN",3,"click"],[2,"font-size","20px","margin","-1px",3,"title"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","RecordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","AccessAddRow"],["matColumnDef","AccessWatchRow"],["matColumnDef","AccessEditRow"],["matColumnDef","AccessDeleteRow"],["matColumnDef","AccessCountRow"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","btn-outline-primary",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","btn-outline-warning",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,it,3,3,"button",4),e.YNc(6,at,3,3,"button",5),e.YNc(7,dt,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"a",7)(17,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonExport()}),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(21,"mat-icon",11),e.ALo(22,"translate"),e._uU(23,"refresh"),e.qZA()(),e.BQk(),e.ynx(24,12),e.TgZ(25,"app-cms-search-list",13),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(26,"app-cms-export-list",13),e.NdJ("optionsChange",function(c){return o.optionsExport=c}),e.qZA(),e.TgZ(27,"app-cms-statist-list",13),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(28,14),e.TgZ(29,"mat-table",15,16),e.NdJ("matSortChange",function(){e.CHM(n);const c=e.MAs(30);return e.KtG(o.onTableSortData(c))}),e.ynx(31,17),e.YNc(32,ct,2,1,"mat-header-cell",18),e.YNc(33,ut,4,8,"mat-cell",19),e.BQk(),e.ynx(34,20),e.YNc(35,mt,2,1,"mat-header-cell",18),e.YNc(36,pt,4,5,"mat-cell",19),e.BQk(),e.ynx(37,21),e.YNc(38,ft,2,1,"mat-header-cell",18),e.YNc(39,gt,4,5,"mat-cell",19),e.BQk(),e.ynx(40,22),e.YNc(41,_t,2,1,"mat-header-cell",18),e.YNc(42,ht,2,1,"mat-cell",19),e.BQk(),e.ynx(43,23),e.YNc(44,Ct,2,1,"mat-header-cell",18),e.YNc(45,At,2,1,"mat-cell",19),e.BQk(),e.ynx(46,24),e.YNc(47,Mt,2,1,"mat-header-cell",18),e.YNc(48,St,3,3,"mat-cell",19),e.BQk(),e.ynx(49,25),e.YNc(50,It,2,1,"mat-header-cell",18),e.YNc(51,wt,3,3,"mat-cell",19),e.BQk(),e.ynx(52,26),e.YNc(53,Tt,2,1,"mat-header-cell",18),e.YNc(54,Rt,3,3,"mat-cell",19),e.BQk(),e.ynx(55,27),e.YNc(56,Et,2,1,"mat-header-cell",18),e.YNc(57,xt,3,3,"mat-cell",19),e.BQk(),e.ynx(58,28),e.YNc(59,Zt,2,1,"mat-header-cell",18),e.YNc(60,yt,3,3,"mat-cell",19),e.BQk(),e.ynx(61,29),e.YNc(62,Ut,3,3,"mat-header-cell",30),e.YNc(63,Ot,14,6,"mat-cell",31),e.BQk(),e.YNc(64,vt,1,0,"mat-header-row",32),e.YNc(65,qt,1,3,"mat-row",33),e.qZA(),e.BQk(),e.ynx(66,34),e.TgZ(67,"mat-paginator",35,36),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&o.tableRowSelected.linkSiteId>0&&o.tableRowSelected.linkUserId>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&o.tableRowSelected.linkSiteId>0&&o.tableRowSelected.linkUserId>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,20,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,22,"ACTION.STATIST")," "),e.xp6(4),e.hij("",e.lcZ(19,24,"ACTION.EXPORTFILE")," "),e.xp6(3),e.s9C("title",e.lcZ(22,26,"ACTION.RELOAD")),e.xp6(4),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsExport),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(35),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(28,Ft)))},dependencies:[u.mk,u.O5,u.PC,r.JJ,r.On,Pe.lW,w.Hw,T.Nt,U.VK,U.OP,U.p6,Ke.NW,Z.Rr,D.YE,D.nU,f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,$e.y,Ve.q,Xe.Z,ze.Z,et.G,u.Ov,_.X$,tt.J,st,nt.b,lt.r],encapsulation:2}),s})();const Dt=[{path:"",children:[{path:"",component:L},{path:"list/LinkSiteId/:LinkSiteId/LinkUserId/:LinkUserId",component:L}]}];let Lt=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[M.Bz.forChild(Dt),M.Bz]}),s})();var kt=d(2645),Qt=d(2337);let Wt=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[a.fuJ,a.EAm],imports:[u.ez,r.u5,Lt,r.UX.withConfig({warnOnNgModelWithFormControl:"never"}),kt.m.forRoot(),Qt.CoreModuleEntityModule]}),s})()}}]);