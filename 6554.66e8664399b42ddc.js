"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[6554],{3435:(C,_,r)=>{r.d(_,{b:()=>n});var t=r(7969),g=r(9724),d=r(7977),e=r(2607);let n=(()=>{class s{constructor(i,h,a,p){this.el=i,this.renderer=h,this.coreGuideService=a,this.cmsToastrService=p,this.viewError=!1,this.offset=10}onMouseEnter(){this.tooltip||this.show()}onMouseLeave(){this.tooltip&&this.hide()}show(){this.Identity&&this.Identity>0?this.coreGuideService.ServiceGetOneById(this.Identity).pipe((0,t.U)(i=>{i.IsSuccess?(this.create(i.Item.BodyFa),this.setPosition(),this.renderer.addClass(this.tooltip,"ng-tooltip-show")):(this.viewError&&this.cmsToastrService.typeErrorMessage(i.ErrorMessage),this.create("Identity :"+this.Identity),this.setPosition(),this.renderer.addClass(this.tooltip,"ng-tooltip-show"))},i=>{this.viewError&&this.cmsToastrService.typeError(i)})).toPromise():this.tooltipGuide&&this.tooltipGuide.length>0&&this.coreGuideService.ServiceGetOneByKey(this.tooltipGuide).pipe((0,t.U)(i=>{i.IsSuccess?(this.create(i.Item.BodyFa),this.setPosition(),this.renderer.addClass(this.tooltip,"ng-tooltip-show")):(this.viewError&&this.cmsToastrService.typeErrorMessage(i.ErrorMessage),this.create("Key :"+this.tooltipGuide),this.setPosition(),this.renderer.addClass(this.tooltip,"ng-tooltip-show"))},i=>{this.viewError&&this.cmsToastrService.typeError(i)})).toPromise()}hide(){this.renderer.removeClass(this.tooltip,"ng-tooltip-show"),window.setTimeout(()=>{this.renderer.removeChild(document.body,this.tooltip),this.tooltip=null},this.delay)}create(i){this.tooltip=this.renderer.createElement("span"),(i+="").indexOf("</")>0||i.indexOf("/>")>0?this.tooltip.insertAdjacentHTML("beforeend",i):this.renderer.appendChild(this.tooltip,this.renderer.createText(i)),this.renderer.appendChild(document.body,this.tooltip),this.renderer.addClass(this.tooltip,"ng-tooltip"),this.renderer.addClass(this.tooltip,`ng-tooltip-${this.placement}`),this.renderer.setStyle(this.tooltip,"-webkit-transition",`opacity ${this.delay}ms`),this.renderer.setStyle(this.tooltip,"-moz-transition",`opacity ${this.delay}ms`),this.renderer.setStyle(this.tooltip,"-o-transition",`opacity ${this.delay}ms`),this.renderer.setStyle(this.tooltip,"transition",`opacity ${this.delay}ms`)}setPosition(){const i=this.el.nativeElement.getBoundingClientRect(),h=this.tooltip.getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;let p=0,o=0;"top"===this.placement&&(p=i.top-h.height-this.offset,o=i.left+(i.width-h.width)/2),"bottom"===this.placement&&(p=i.bottom+this.offset,o=i.left+(i.width-h.width)/2),"left"===this.placement&&(p=i.top+(i.height-h.height)/2,o=i.left-h.width-this.offset),"right"===this.placement&&(p=i.top+(i.height-h.height)/2,o=i.right+this.offset),this.renderer.setStyle(this.tooltip,"top",`${p+a}px`),this.renderer.setStyle(this.tooltip,"left",`${o}px`)}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(d.LOT),g.Y36(e.e))},s.\u0275dir=g.lG2({type:s,selectors:[["","tooltipGuide",""]],hostBindings:function(i,h){1&i&&g.NdJ("mouseenter",function(){return h.onMouseEnter()})("mouseleave",function(){return h.onMouseLeave()})},inputs:{tooltipGuide:"tooltipGuide",Identity:"Identity",placement:"placement",delay:"delay"}}),s})()},656:(C,_,r)=>{r.d(_,{O:()=>d});var t=r(2340);class g{constructor(){this.inRun=!1,this.title=""}}class d{constructor(){this.message="\u062f\u0631 \u062d\u0627\u0644 \u062f\u0631\u06cc\u0627\u0641\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a",this.diameter=20,this.strokeWidth=50,this.backdropEnabled=!0,this.Globally=!0,this.positionGloballyCenter=!0,this.display=!1,this.consoleLog=!0,this.processInfo=new Map,this.guid="",this.guid=this.newGuid(),this.consoleLog=t.N.ProgressConsoleLog}S4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}newGuid(){return`${this.S4()}${this.S4()}-${this.S4()}-${this.S4()}-${this.S4()}-${this.S4()}${this.S4()}${this.S4()}`}displayItem(n){if(!this.processInfo)return!1;for(const[s,l]of this.processInfo)if(s===n)return l.inRun;return!1}Start(n,s="----"){let l=new g;l.inRun=!0,l.title=s,this.processInfo.set(n,l);const i=[];for(const[h,a]of this.processInfo)a&&!0===a.inRun&&i.push(h);this.processRunList=i,i&&i.length>0?this.display=!0:(this.processInfo=new Map,this.display=!1),this.consoleLog&&console.log(this.guid,"Start:",name,"Display:",this.display,"processRunList:",this.processRunList),this.cdr&&!this.display&&this.cdr.detectChanges()}Stop(n){let s=this.processInfo.get(n);s||(s=new g),s.inRun=!1,this.processInfo.set(n,s);const l=[];for(const[i,h]of this.processInfo)h&&!0===h.inRun&&l.push(i);this.processRunList=l,l&&l.length>0?this.display=!0:(this.processInfo=new Map,this.display=!1),this.consoleLog&&console.log(this.guid,"Stop:",name,"Display:",this.display,"processRunList:",this.processRunList),this.cdr&&!this.display&&this.cdr.detectChanges()}}},6318:(C,_,r)=>{r.d(_,{S:()=>f});var t=r(7076),g=r(7977),d=r(4970),e=r(9724),n=r(1436),s=r(2607),l=r(727),i=r(7312),h=r(3435),a=r(1048);const p=function(m){return{active:m}};function o(m,D){if(1&m){const c=e.EpF();e.TgZ(0,"li",7),e.TgZ(1,"a",8),e.NdJ("click",function(){const S=e.CHM(c).$implicit;return e.oxw().setLanguageWithRefresh(S.lang)}),e.TgZ(2,"span",9),e._UZ(3,"img",10),e.qZA(),e.TgZ(4,"span",11),e._uU(5),e.qZA(),e.qZA(),e.qZA()}if(2&m){const c=D.$implicit;e.Q6J("ngClass",e.VKq(4,p,c.active)),e.xp6(1),e.Q6J("ngClass",e.VKq(6,p,c.active)),e.xp6(2),e.s9C("src",c.flag,e.LSH),e.xp6(2),e.Oqu(c.name)}}let f=(()=>{class m{constructor(c,u,y,S,v){this.translationService=c,this.coreAuthService=u,this.cmsToastrService=y,this.tokenHelper=S,this.router=v,this.languages=[{lang:"fa",name:"\u0641\u0627\u0631\u0633\u06cc",flag:"./assets/media/svg/flags/136-iran.svg"},{lang:"ar",name:"\u0639\u0631\u0628\u06cc",flag:"./assets/media/svg/flags/008-saudi-arabia.svg"},{lang:"en",name:"English",flag:"./assets/media/svg/flags/226-united-states.svg"},{lang:"ch",name:"Mandarin",flag:"./assets/media/svg/flags/015-china.svg"},{lang:"es",name:"Spanish",flag:"./assets/media/svg/flags/128-spain.svg"},{lang:"jp",name:"Japanese",flag:"./assets/media/svg/flags/063-japan.svg"},{lang:"de",name:"German",flag:"./assets/media/svg/flags/162-germany.svg"},{lang:"fr",name:"French",flag:"./assets/media/svg/flags/195-france.svg"}],this.tokenInfo=new g.OdC,this.tokenHelper.getCurrentToken().then(T=>{this.tokenInfo=T}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(T=>{this.tokenInfo=T,this.setLanguage(T.Language)})}ngOnInit(){this.setSelectedLanguage(),this.router.events.pipe((0,d.h)(c=>c instanceof t.OD)).subscribe(c=>{this.setSelectedLanguage()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}setLanguageWithRefresh(c){if(this.setLanguage(c),this.tokenInfo&&this.tokenInfo.UserId>0){const u=new g.nVm;u.UserAccessAdminAllowToProfessionalData=this.tokenInfo.UserAccessAdminAllowToProfessionalData,u.UserAccessAdminAllowToAllData=this.tokenInfo.UserAccessAdminAllowToAllData,u.UserId=this.tokenInfo.UserId,u.SiteId=this.tokenInfo.SiteId,u.Lang=c;const y="\u0627\u0637\u0644\u0627\u0639\u0627\u062a ";this.cmsToastrService.toastr.info("\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062a\u063a\u06cc\u06cc\u0631 \u0632\u0628\u0627\u0646 \u0628\u0647 \u0633\u0631\u0648\u0631 \u0627\u0631\u0633\u0627\u0644 \u0634\u062f",y),this.coreAuthService.ServiceRenewToken(u).subscribe(v=>{v.IsSuccess?v.Item.Language===c?this.cmsToastrService.toastr.success("\u062f\u0633\u062a\u0631\u0633\u06cc \u0628\u0647 \u0632\u0628\u0627\u0646 \u062c\u062f\u06cc\u062f \u062a\u0627\u06cc\u06cc\u062f \u0634\u062f",y):this.cmsToastrService.toastr.warning("\u062f\u0633\u062a\u0631\u0633\u06cc \u0628\u0647 \u0632\u0628\u0627\u0646 \u062c\u062f\u06cc\u062f \u062a\u0627\u06cc\u06cc\u062f \u0646\u0634\u062f",y):this.cmsToastrService.typeErrorAccessChange(v.ErrorMessage)},v=>{this.cmsToastrService.typeErrorAccessChange(v)})}}setLanguage(c){this.languages.forEach(u=>{u.lang===c?(u.active=!0,this.language=u):u.active=!1}),this.translationService.setLanguage(c)}setSelectedLanguage(){this.setLanguage(this.translationService.getSelectedLanguage())}}return m.\u0275fac=function(c){return new(c||m)(e.Y36(n.D),e.Y36(g.Z8z),e.Y36(s.e),e.Y36(l.v),e.Y36(t.F0))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-language-selector"]],decls:7,vars:4,consts:[["ngbDropdown","","placement","bottom-right",1,"dropdown",3,"autoClose"],["ngbDropdownToggle","","data-toggle","dropdown","data-offset","10px,0px",1,"topbar-item"],[1,"btn","btn-icon","btn-clean","btn-dropdown","btn-lg","mr-1"],["alt","language",1,"h-25px","w-25px","rounded",3,"tooltipGuide","src"],["ngbDropdownMenu","",1,"dropdown-menu","p-0","m-0","dropdown-menu-anim-up","dropdown-menu-sm","dropdown-menu-right"],[1,"navi","navi-hover","py-4"],["class","navi-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"navi-item",3,"ngClass"],["href","javascript:;",1,"navi-link",3,"ngClass","click"],[1,"symbol","symbol-20","mr-3"],[3,"src"],[1,"navi-text"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"ul",5),e.YNc(6,o,6,8,"li",6),e.qZA(),e.qZA(),e.qZA()),2&c&&(e.Q6J("autoClose",!0),e.xp6(3),e.s9C("src",null==u.language?null:u.language.flag,e.LSH),e.Q6J("tooltipGuide","main"),e.xp6(3),e.Q6J("ngForOf",u.languages))},directives:[i.jt,i.iD,h.b,i.Vi,a.sg,a.mk],styles:[""]}),m})()},486:(C,_,r)=>{r.d(_,{Z:()=>g});var t=r(9724);let g=(()=>{class d{constructor(){this.passwordStrength=new t.vpe,this.msg="",this.colors=["darkred","orangered","orange","yellowgreen"]}static checkStrength(n){let s=0;const o=[/[a-z]+/.test(n),/[A-Z]+/.test(n),/[0-9]+/.test(n),/[$-/:-?{-~!"^_@`\[\]]/g.test(n)];let f=0;for(const m of o)f+=!0===m?1:0;return s+=2*n.length+(n.length>=10?1:0),s+=10*f,s=n.length<=6?Math.min(s,10):s,s=1===f?Math.min(s,10):s,s=2===f?Math.min(s,20):s,s=3===f?Math.min(s,30):s,s=4===f?Math.min(s,40):s,s}ngOnChanges(n){const s=n.passwordToCheck.currentValue;if(this.setBarColors(4,"#DDD"),s){const l=this.getColor(d.checkStrength(s));switch(this.setBarColors(l.idx,l.col),40===d.checkStrength(s)?this.passwordStrength.emit(!0):this.passwordStrength.emit(!1),l.idx){case 1:this.msg="Poor";break;case 2:this.msg="Not Good";break;case 3:this.msg="Average";break;case 4:this.msg="Good"}}else this.msg=""}getColor(n){let s=0;return s=n<=10?0:n<=20?1:n<=30?2:n<=40?3:4,{idx:s+1,col:this.colors[s]}}setBarColors(n,s){for(let l=0;l<n;l++)this["bar"+l]=s}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-password-strength"]],inputs:{passwordToCheck:"passwordToCheck"},outputs:{passwordStrength:"passwordStrength"},features:[t.TTD],decls:9,vars:9,consts:[[1,"strength"],[1,"strengthBar"],[1,"point"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"ul",1),t._UZ(2,"li",2),t._UZ(3,"li",2),t._UZ(4,"li",2),t._UZ(5,"li",2),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Udp("background-color",s.bar0),t.xp6(1),t.Udp("background-color",s.bar1),t.xp6(1),t.Udp("background-color",s.bar2),t.xp6(1),t.Udp("background-color",s.bar3),t.xp6(3),t.Oqu(s.msg))},styles:[".strengthBar[_ngcontent-%COMP%]{display:inline;list-style:none;margin:0;padding:0;vertical-align:2px}.point[_ngcontent-%COMP%]:last-of-type{margin:0!important}.point[_ngcontent-%COMP%]{background:#DDD;border-radius:2px;display:inline-block;height:5px;margin-right:1px;width:62px}"]}),d})()},5738:(C,_,r)=>{r.d(_,{O:()=>h});var t=r(9724),g=r(8832),d=r(1048),e=r(4039);const n=["progressSpinnerRef"];function s(a,p){if(1&a&&(t.TgZ(0,"ul",5),t.TgZ(1,"li"),t.TgZ(2,"span",6),t._UZ(3,"i",7),t.qZA(),t._uU(4),t.qZA(),t.qZA()),2&a){const o=p.$implicit;t.xp6(3),t.Q6J("ngClass",o.value.inRun?"fas fa-spinner fa-pulse":"fas fa-check-square"),t.xp6(1),t.hij("",o.value.title," ")}}function l(a,p){if(1&a&&(t._UZ(0,"mat-progress-spinner",3),t._UZ(1,"br"),t.TgZ(2,"div"),t._uU(3),t._UZ(4,"br"),t.YNc(5,s,5,2,"ul",4),t.ALo(6,"keyvalue"),t.qZA()),2&a){const o=t.oxw();t.Q6J("color",o.optionsData.color)("diameter",o.optionsData.diameter)("mode",o.optionsData.mode)("strokeWidth",o.optionsData.strokeWidth)("value",o.optionsData.value),t.xp6(3),t.hij("",o.optionsData.message," "),t.xp6(2),t.Q6J("ngForOf",t.lcZ(6,7,o.optionsData.processInfo))}}function i(a,p){if(1&a&&(t.TgZ(0,"div",8),t._UZ(1,"mat-progress-spinner",3),t._UZ(2,"br"),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.qZA()),2&a){const o=t.oxw();t.xp6(1),t.Q6J("color",o.optionsData.color)("diameter",o.optionsData.diameter)("mode",o.optionsData.mode)("strokeWidth",o.optionsData.strokeWidth)("value",o.optionsData.value),t.xp6(3),t.Oqu(o.optionsData.message)}}let h=(()=>{class a{constructor(o,f){this.vcRef=o,this.overlayService=f}set options(o){this.optionsData=o}get options(){return this.optionsData}ngOnInit(){!this.optionsData||!this.optionsData.Globally||(this.progressSpinnerOverlayConfig={hasBackdrop:this.optionsData.backdropEnabled},this.optionsData.positionGloballyCenter&&(this.progressSpinnerOverlayConfig.positionStrategy=this.overlayService.positionGloballyCenter()),this.overlayRef=this.overlayService.createOverlay(this.progressSpinnerOverlayConfig))}ngDoCheck(){!this.optionsData||!this.optionsData.Globally||(this.optionsData.display&&!this.overlayRef.hasAttached()?this.overlayService.attachTemplatePortal(this.overlayRef,this.progressSpinnerRef,this.vcRef):!this.optionsData.display&&this.overlayRef.hasAttached()&&this.overlayRef.detach())}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(t.s_b),t.Y36(g.F))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-progress-spinner"]],viewQuery:function(o,f){if(1&o&&t.Gf(n,7),2&o){let m;t.iGM(m=t.CRH())&&(f.progressSpinnerRef=m.first)}},inputs:{options:"options"},decls:3,vars:1,consts:[["class","message"],["progressSpinnerRef",""],["class","message",4,"ngIf"],[3,"color","diameter","mode","strokeWidth","value"],["class","fa-ul",4,"ngFor","ngForOf"],[1,"fa-ul"],[1,"fa-li"],[3,"ngClass"],[1,"message"]],template:function(o,f){1&o&&(t.YNc(0,l,7,9,"ng-template",0,1,t.W1O),t.YNc(2,i,5,6,"div",2)),2&o&&(t.xp6(2),t.Q6J("ngIf",!f.optionsData.Globally&&f.optionsData.display))},directives:[d.O5,e.Ou,d.sg,d.mk],pipes:[d.Nd],styles:[".message[_ngcontent-%COMP%]{position:absolute;text-align:center;top:49%;left:44%}"]}),a})()}}]);