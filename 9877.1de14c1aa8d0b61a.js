"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[9877],{8161:(y,h,n)=>{n.d(h,{y:()=>L});var f=n(8239),e=n(9724),l=n(7977),_=n(1659),M=n(1927),S=n(3151),A=n(2147),E=n(1528),d=n(7969),C=n(656),O=n(2607),P=n(4817),m=n(5691),I=n(8904),u=n(5821),p=n(1048),g=n(1531),D=n(4848);function T(s,r){if(1&s&&(e.TgZ(0,"mat-option",6),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.qZA()),2&s){const o=r.$implicit,t=e.oxw();e.Q6J("value",o)("disabled",t.optionDisabled),e.xp6(2),e.Oqu(t.displayOption(o))}}function v(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"mat-icon",7),e.NdJ("click",function(){return e.CHM(o),e.oxw().onActionSelectClear()}),e._uU(1,"close"),e.qZA()}}const R=["*"];let L=(()=>{class s{constructor(o,t,i,a,c){this.coreEnumService=o,this.cmsToastrService=t,this.translate=i,this.cdr=a,this.categoryService=c,this.dataModelResult=new l.y$4,this.dataModelSelect=new l.FEG,this.loading=new C.O,this.formControl=new _.NI,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new e.vpe,this.optionReload=()=>this.onActionReload(),this.optionLinkApiPathId="",this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(o){this.onActionSelectForce(o)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,M.O)(""),(0,S.b)(1e3),(0,A.x)(),(0,E.w)(o=>"string"==typeof o||"number"==typeof o?this.DataGetAll(o||""):[]))}displayFn(o){return o?o.NumberChar:void 0}displayOption(o){return o?o.NumberChar:void 0}DataGetAll(o){var t=this;return(0,f.Z)(function*(){const i=new l.Hay;i.RowPerPage=20,i.AccessLoad=!0;let a=new l.AO3;return a.PropertyName="NumberChar",a.Value=o,a.SearchType=l.b3P.Contains,a.ClauseType=l.KT6.Or,i.Filters.push(a),t.optionLinkApiPathId&&t.optionLinkApiPathId.length>0&&(a=new l.AO3,a.PropertyName="ApiPathAndApiNumbers",a.PropertyAnyName="LinkApiPathId",a.Value=t.optionLinkApiPathId,a.SearchType=l.b3P.Equal,i.Filters.push(a)),t.loading.Start("DataGetAll"),yield t.categoryService.ServiceGetAll(i).pipe((0,d.U)(c=>(t.dataModelResult=c,t.optionSelectFirstItem&&(!t.dataModelSelect||!t.dataModelSelect.Id||t.dataModelSelect.Id.length<=0)&&t.dataModelResult.ListItems.length>0&&(t.optionSelectFirstItem=!1,setTimeout(()=>{t.formControl.setValue(t.dataModelResult.ListItems[0])},1e3),t.onActionSelect(t.dataModelResult.ListItems[0])),t.loading.Stop("DataGetAll"),c.ListItems))).toPromise()})()}onActionSelect(o){this.optionDisabled||(this.dataModelSelect=o,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.formControl.setValue(null),this.optionChange.emit(null))}push(o){return this.filteredOptions.pipe((0,d.U)(t=>(t.find(i=>i.Id===o.Id)||t.push(o),t)))}onActionSelectForce(o){if("string"==typeof o&&o.length>0){if(this.dataModelSelect&&this.dataModelSelect.Id===o)return;if(this.dataModelResult&&this.dataModelResult.ListItems&&this.dataModelResult.ListItems.find(t=>t.Id===o)){const t=this.dataModelResult.ListItems.find(i=>i.Id===o);return this.dataModelSelect=t,void this.formControl.setValue(t)}if(this.dataModelResult&&this.dataModelResult.ListItems&&this.dataModelResult.ListItems.find(t=>t.NumberChar===o)){const t=this.dataModelResult.ListItems.find(i=>i.NumberChar===o);return this.dataModelSelect=t,void this.formControl.setValue(t)}this.categoryService.ServiceGetOneById(o).subscribe({next:t=>{t.IsSuccess?(this.filteredOptions=this.push(t.Item),this.dataModelSelect=t.Item,this.formControl.setValue(t.Item),this.optionChange.emit(t.Item)):this.cmsToastrService.typeErrorMessage(t.ErrorMessage)}})}else{if(typeof o==typeof l.FEG)return this.filteredOptions=this.push(o),this.dataModelSelect=o,void this.formControl.setValue(o);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new l.FEG,this.DataGetAll(null)}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(l.FLW),e.Y36(O.e),e.Y36(P.sK),e.Y36(e.sBO),e.Y36(l.cPv))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-sms-api-number-selector"]],inputs:{loading:"loading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLinkApiPathId:"optionLinkApiPathId"},outputs:{optionChange:"optionChange"},ngContentSelectors:R,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto17","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,t){if(1&o&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"input",1),e.TgZ(2,"mat-autocomplete",2,3),e.NdJ("optionSelected",function(a){return t.onActionSelect(a.option.value)}),e.YNc(4,T,3,3,"mat-option",4),e.ALo(5,"async"),e.qZA(),e.YNc(6,v,2,0,"mat-icon",5),e.Hsn(7),e.qZA()),2&o){const i=e.MAs(3);e.xp6(1),e.s9C("placeholder",t.optionPlaceholder),e.Q6J("formControl",t.formControl)("matAutocomplete",i),e.uIk("disabled",!!t.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",t.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,7,t.filteredOptions)),e.xp6(2),e.Q6J("ngIf",t.dataModelSelect.Id)}},directives:[m.KE,I.Nt,_.Fj,u.ZL,_.JJ,_.oH,u.XC,p.sg,g.ey,p.O5,D.Hw,m.R9],pipes:[p.Ov],styles:[""]}),s})()},8024:(y,h,n)=>{n.d(h,{s:()=>L});var f=n(8239),e=n(9724),l=n(7977),_=n(1659),M=n(1927),S=n(3151),A=n(2147),E=n(1528),d=n(7969),C=n(656),O=n(2607),P=n(4817),m=n(5691),I=n(8904),u=n(5821),p=n(1048),g=n(1531),D=n(4848);function T(s,r){if(1&s&&(e.TgZ(0,"mat-option",6),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.qZA()),2&s){const o=r.$implicit,t=e.oxw();e.Q6J("value",o)("disabled",t.optionDisabled),e.xp6(2),e.Oqu(t.displayOption(o))}}function v(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"mat-icon",7),e.NdJ("click",function(){return e.CHM(o),e.oxw().onActionSelectClear()}),e._uU(1,"close"),e.qZA()}}const R=["*"];let L=(()=>{class s{constructor(o,t,i,a,c){this.coreEnumService=o,this.cmsToastrService=t,this.cdr=i,this.translate=a,this.categoryService=c,this.dataModelResult=new l.y$4,this.dataModelSelect=new l.lWT,this.loading=new C.O,this.formControl=new _.NI,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new e.vpe,this.optionReload=()=>this.onActionReload(),this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(o){this.onActionSelectForce(o)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,M.O)(""),(0,S.b)(1e3),(0,A.x)(),(0,E.w)(o=>"string"==typeof o||"number"==typeof o?this.DataGetAll(o||""):[]))}displayFn(o){return o?o.Title:void 0}displayOption(o){return o?o.Title:void 0}DataGetAll(o){var t=this;return(0,f.Z)(function*(){const i=new l.Hay;i.RowPerPage=20,i.AccessLoad=!0;let a=new l.AO3;return a.PropertyName="Title",a.Value=o,a.SearchType=l.b3P.Contains,a.ClauseType=l.KT6.Or,i.Filters.push(a),o&&"number"==typeof+o&&+o>0&&(a=new l.AO3,a.PropertyName="Id",a.Value=o,a.SearchType=l.b3P.Equal,a.ClauseType=l.KT6.Or,i.Filters.push(a)),t.loading.Start("DataGetAll"),yield t.categoryService.ServiceGetAll(i).pipe((0,d.U)(c=>(t.dataModelResult=c,t.optionSelectFirstItem&&(!t.dataModelSelect||!t.dataModelSelect.Id||t.dataModelSelect.Id.length<=0)&&t.dataModelResult.ListItems.length>0&&(t.optionSelectFirstItem=!1,setTimeout(()=>{t.formControl.setValue(t.dataModelResult.ListItems[0])},1e3),t.onActionSelect(t.dataModelResult.ListItems[0])),t.loading.Stop("DataGetAll"),c.ListItems))).toPromise()})()}onActionSelect(o){this.optionDisabled||(this.dataModelSelect=o,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.formControl.setValue(null),this.optionChange.emit(null))}push(o){return this.filteredOptions.pipe((0,d.U)(t=>(t.find(i=>i.Id===o.Id)||t.push(o),t)))}onActionSelectForce(o){if("string"==typeof o&&o.length>0){if(this.dataModelSelect&&this.dataModelSelect.Id===o)return;if(this.dataModelResult&&this.dataModelResult.ListItems&&this.dataModelResult.ListItems.find(t=>t.Id===o)){const t=this.dataModelResult.ListItems.find(i=>i.Id===o);return this.dataModelSelect=t,void this.formControl.setValue(t)}this.categoryService.ServiceGetOneById(o).subscribe({next:t=>{t.IsSuccess?(this.filteredOptions=this.push(t.Item),this.dataModelSelect=t.Item,this.formControl.setValue(t.Item),this.optionChange.emit(t.Item)):this.cmsToastrService.typeErrorMessage(t.ErrorMessage)}})}else{if(typeof o==typeof l.lWT)return this.filteredOptions=this.push(o),this.dataModelSelect=o,void this.formControl.setValue(o);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new l.lWT,this.DataGetAll(null)}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(l.FLW),e.Y36(O.e),e.Y36(e.sBO),e.Y36(P.sK),e.Y36(l.sZP))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-sms-apipath-selector"]],inputs:{loading:"loading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:R,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto17","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,t){if(1&o&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"input",1),e.TgZ(2,"mat-autocomplete",2,3),e.NdJ("optionSelected",function(a){return t.onActionSelect(a.option.value)}),e.YNc(4,T,3,3,"mat-option",4),e.ALo(5,"async"),e.qZA(),e.YNc(6,v,2,0,"mat-icon",5),e.Hsn(7),e.qZA()),2&o){const i=e.MAs(3);e.xp6(1),e.s9C("placeholder",t.optionPlaceholder),e.Q6J("formControl",t.formControl)("matAutocomplete",i),e.uIk("disabled",!!t.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",t.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,7,t.filteredOptions)),e.xp6(2),e.Q6J("ngIf",t.dataModelSelect.Id)}},directives:[m.KE,I.Nt,_.Fj,u.ZL,_.JJ,_.oH,u.XC,p.sg,g.ey,p.O5,D.Hw,m.R9],pipes:[p.Ov],styles:[""]}),s})()}}]);